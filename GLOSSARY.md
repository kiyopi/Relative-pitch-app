# 相対音感トレーニングアプリ - 用語集

**バージョン**: 1.0.0  
**作成日**: 2025-08-07  
**用途**: プロジェクト全体で使用される専門用語の定義・説明

---

## 📚 音楽理論・相対音感用語

### 🎵 基本概念

**相対音感** (そうたいおんかん)  
基準となる音（基音）に対して、他の音の高さの関係を認識する能力。絶対音感と異なり、基準音があれば正確な音程を取ることができる。

**絶対音感** (ぜったいおんかん)  
基準音なしに音の絶対的な高さを識別する能力。C4やA4などの音名を直接認識する。本アプリでは相対音感と区別して考える。

**基音** (きおん)  
相対音感トレーニングにおける基準となる音。「ド」として設定され、他の音はこれを基準に相対的に判断される。**トレーニング中は音名・周波数を表示しない**。

**音程** (おんてい)  
2つの音の高さの関係。半音（セント）単位で表現される。

**半音** (はんおん)  
音楽における最小の音程単位。1オクターブは12半音。100セント。

### 🎼 音階・スケール

**ドレミファソラシド**  
メジャースケール（長調）の音階名。相対音感トレーニングの基本。

**クロマチック** (chromatic)  
半音階のこと。12音階モードで使用される12の半音すべて。

**オクターブ** (octave)  
周波数が2倍の関係にある音程。1200セント。

### 🎯 測定・精度

**セント** (cent)  
音程の精密な単位。1半音=100セント、1オクターブ=1200セント。

**±50セント以内**  
初級・中級モードでの合格基準。約半音の±半分の範囲。

**±30セント以内**  
上級モードでの合格基準。より厳密な音程精度。

**±10セント以内**  
プロレベルの精度基準。極めて正確な音程。

**±5セント以内**  
完璧レベル。プロの音楽家レベルの精度。

---

## 🎤 音声技術用語

### 🔊 音声処理

**Pitchy**  
本アプリで使用する高精度音程検出ライブラリ（v4）。McLeod Pitch Methodを実装。

**McLeod Pitch Method (MPM)**  
音程検出アルゴリズムの一種。倍音の誤検出を避けて基音を正確に検出。

**Web Audio API**  
ブラウザの音声処理標準API。音声入力、フィルタリング、解析に使用。

**FFT** (Fast Fourier Transform)  
高速フーリエ変換。音声の周波数解析に使用。

**fftSize**  
FFTのサンプル数。2048を使用し、周波数解析の精度を決定。

### 🎚️ 音声フィルタリング

**ハイパスフィルター**  
指定周波数以下をカットするフィルター。80Hz以下の低周波ノイズ除去。

**ローパスフィルター**  
指定周波数以上をカットするフィルター。800Hz以上の高周波ノイズ除去。

**ノッチフィルター**  
特定周波数のみをカットするフィルター。60Hz電源ノイズ除去。

**S/N比** (Signal-to-Noise Ratio)  
信号対雑音比。フィルタリングによる音質改善の指標。

### 🔧 音程補正

**動的オクターブ補正**  
倍音検出時に自動的に基音を算出するシステム。2倍音→基音、4倍音→基音など。

**倍音** (ばいおん)  
基音の整数倍の周波数を持つ音。2倍音（オクターブ上）、3倍音、4倍音など。

**基音安定化**  
急激な周波数変化を抑制し、5フレーム履歴による中央値フィルタで安定化。

**音域補正**  
人間の音域範囲（130.81Hz-1046.50Hz, C3-C6）内での周波数検証。

---

## 💻 技術・開発用語

### 🛠️ フレームワーク・ライブラリ

**Vanilla TypeScript**  
フレームワークを使用しないTypeScript。軽量かつシンプルな実装。

**Vite**  
高速ビルドツール。モジュールハンドリングと開発サーバーを提供。

**Mantine v7.6.0**  
React/Vue/Vanilla対応のモダンUIライブラリ。デザインシステム統一。

**Tabler Icons**  
Mantineと統合されたアイコンセット。音楽カスタムアイコンも含む。

### 🌐 デプロイ・インフラ

**GitHub Pages**  
静的サイトホスティングサービス。従来のデプロイ先。

**Cloudflare Pages**  
高性能静的サイトホスティング。新デプロイ先（v2.0.0）。

**CDN** (Content Delivery Network)  
Cloudflare CDNによるグローバル配信とキャッシュ最適化。

**PWA** (Progressive Web App)  
Web技術でネイティブアプリ体験を提供。Service Worker + Manifest。

### 💾 データ管理

**localStorage**  
ブラウザローカルストレージ。進捗データとセッション履歴を永続化。

**SessionResult**  
1回のトレーニングセッションの結果データ構造。

**TrainingProgress**  
全体の学習進捗を管理するメインデータ構造。

**健康確認システム**  
データ整合性の自動チェック・修復機能。リロード時の復旧処理。

---

## 🎮 UI/UX・アプリ機能用語

### 📱 画面・ナビゲーション

**ホームページ**  
アプリのトップページ。3つのトレーニングモード選択。

**マイクテストページ**  
トレーニング前の準備画面。マイク許可・音域テスト・感度最適化。

**ダイレクトアクセス**  
URL直接入力での機能アクセス。ブックマーク対応。

**統合進行ガイドシステム**  
進行バーとドレミガイドを一体化したUI。🎯マーカーで開始タイミング表示。

### 🎯 トレーニングモード

**ランダム基音モード（初級）**  
1セッション、C3オクターブ8音からランダム選択、基音聴き返し廃止。

**連続チャレンジモード（中級）**  
8セッション連続、クロマチック12音、自動進行、総合評価。

**12音階モード（上級）**  
12-24セッション、全半音使用、上昇・下降・混合モード、プロレベル判定。

**S-E級評価**  
8セッション完了後の総合評価システム。Excellence割合による段階評価。

### 🔄 進行・ガイド

**🎯マーカー**  
進行バー上のガイド開始ポイント表示。視覚的なタイミング予測。

**ドレミガイド**  
8音階の進行状況表示。○(待機)→🎯(現在)→●(完了)。

**統合進行バー**  
基音再生(2秒)|休憩(0.5秒)|開始 の3区間表示。

**エフェクト演出**  
🎯到達時の🌟✨視覚効果。ユーザー体験向上。

### 📊 評価・結果

**セッション評価**  
4段階評価：Excellent/Good/Pass/Need Work。

**精度グラフ**  
各音階の正確度を視覚化。弱点の特定。

**共有機能**  
SNS共有（Twitter/Facebook/LINE/Instagram）、画像自動生成、QRコード。

---

## 🎵 音響・信号処理専門用語

### 🔍 検出・解析

**McLeod Pitch Method**  
自己相関に基づく音程検出。ノイズ耐性と基音検出精度に優れる。

**Clarity**  
Pitchyライブラリの確信度指標。0.1以上で有効な検出と判定。

**フレームレート**  
音程検出の更新頻度。requestAnimationFrameで約60FPS。

**安定化しきい値**  
急激な周波数変化を制限する割合。デフォルト10%。

### 🎛️ デバイス最適化

**デバイス別感度調整**  
PC(1.0x)、iPhone(3.0x)、iPad(7.0x)の音声入力感度最適化。

**音声制約設定**  
echoCancellation/noiseSuppression/autoGainControlの無効化。

**iOS最適化**  
Safari/WebView特有の音声処理制限への対応設定。

### 📈 性能指標

**検出遅延**  
音声入力から結果表示まで100ms以内の要件。

**メモリ使用量**  
最大500MBの制限。履歴バッファ最適化。

**処理時間**  
各フレーム100ms以内の音程検出処理時間。

---

## 🌐 共有・連携用語

### 📱 SNS統合

**画像生成システム**  
html2canvas使用。1080x1080px結果画像の自動生成。

**カスタムメッセージ**  
ユーザー入力100文字以内のオプション投稿文。

**ハッシュタグ**  
#相対音感 #音楽トレーニング #PitchTrainingの統一タグ。

**シェアイベント**  
Google Analytics連携の共有行動トラッキング。

### 🔗 URL・アクセス

**パラメータ付きURL**  
基音・難易度・セッション数指定の直接アクセスURL。

**QRコード生成**  
モバイルアクセス用の動的QRコード生成。

**リダイレクト機能**  
マイク未許可時の自動誘導とテスト完了後の復帰。

---

## 🔒 セキュリティ・制約用語

### 🛡️ プライバシー

**音声データ非保存**  
録音データをローカル・サーバーに一切保存しない原則。

**相対音感原則**  
トレーニング中の基音音名・周波数表示の完全禁止。

**マイクテスト例外**  
調整目的でのマイクテストページでの音名・周波数表示許可。

### ⚠️ 技術制約

**Web Audio API対応**  
対応ブラウザでの音声機能利用必須。

**HTTPS必須**  
マイクアクセスにHTTPS接続が必要。

**同一オリジン制約**  
localStorage等の同一ドメイン制限。

---

## 📊 分析・監視用語

### 📈 パフォーマンス監視

**Cloudflare Analytics**  
アクセス解析、パフォーマンス監視、Real User Monitoring。

**Chrome DevTools**  
60FPS性能確認、メモリ使用量測定。

**エラートラッキング**  
JavaScript例外とユーザー行動の監視。

### 🎯 ユーザー行動

**離脱率**  
各段階でのユーザー離脱の測定。

**完了率**  
8セッション完了までの継続率。

**再訪率**  
リピートユーザーの分析指標。

---

## 🚀 将来拡張用語

### 🧠 AI・機械学習

**個人適応型難易度調整**  
機械学習による個別最適化。

**弱点分析AI**  
苦手音程の自動特定と練習提案。

**音声品質AI判定**  
音声入力品質の自動評価とフィードバック。

### 🌍 グローバル展開

**多言語対応**  
i18n実装による国際化対応。

**文化圏別音階**  
地域音楽理論への適応機能。

**オフライン対応**  
PWAによる完全オフライン実行。

---

**この用語集は開発進行に応じて継続的に更新されます**  
**新しい技術や概念が導入される際は、必ず本用語集に追加してください**