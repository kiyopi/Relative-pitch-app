<!-- SPA用テンプレート: result-session
     このファイルはindex.htmlのrouter.jsから読み込まれます。
     スクリプトタグは不要（index.htmlで既に読み込み済み）
-->
<div class="container container-result-session">
        <!-- ヘッダー -->
        <header class="page-header">
                <div class="page-header-content">
                    <div class="page-header-icon-wrapper">
                        <div class="page-header-icon gradient-catalog-blue">
                            <i data-lucide="check-circle" class="text-white" data-stroke-width="2" style="width: 36px; height: 36px;"></i>
                        </div>
                    </div>
                    <div class="page-header-text">
                        <h1 class="page-title">セッション 1 完了！</h1>
                        <p class="page-subtitle text-green-200">基音 C4 - 8音の評価結果</p>
                    </div>
                </div>
            </header>

        <!-- メインコンテンツ -->
        <main class="narrow-main">
            <!-- ローディング表示 -->
            <div class="flex flex-col items-center gap-3 py-8" id="session-result-loading" style="display: flex;">
                <i data-lucide="loader-2" class="text-blue-300 animate-spin" style="width: 48px; height: 48px;"></i>
                <p class="text-white-60">セッション結果を読み込み中...</p>
            </div>

            <!-- コンテンツ -->
            <div id="session-result-content" style="display: none;">
            <!-- 進行バー -->
            <div class="progress-section progress-section-training">
                <div class="flex items-center gap-4">
                    <div class="progress-bar with-margin">
                        <div class="progress-fill gradient-catalog-blue" style="width: 25%;"></div>
                    </div>
                    <div class="session-badge">
                        セッション 1/8
                    </div>
                </div>
                <div style="margin-top: 1rem;">
                    <button class="btn btn-primary btn-next-session">
                        <i data-lucide="arrow-right" style="width: 24px; height: 24px;"></i>
                        <span>次の基音へ</span>
                    </button>
                </div>
            </div>

            <!-- セッション概要 -->
            <div class="glass-card">
                <div class="score-section">
                    <div class="score-grid">
                        <!-- 基音表示（左） -->
                        <div class="base-note-section">
                            <div class="score-base-note text-white" id="session-base-note">C4</div>
                            <p class="text-body-green">基音</p>
                        </div>

                        <!-- トロフィーアイコン（中央・JavaScriptで動的生成） -->
                        <div class="trophy-section flex flex-col items-center text-center justify-end">
                            <div class="accuracy-badge accuracy-badge-excellent relative">
                                <!-- アイコン・ヘルプボタンはJavaScriptで動的生成されます -->
                            </div>
                            <p class="text-sub-title mt-4">素晴らしい精度！</p>
                        </div>

                        <!-- 平均誤差（右） -->
                        <div class="error-section">
                            <div class="score-average text-white" id="average-error">+0.0¢</div>
                            <p class="text-body-green">セッション平均誤差</p>
                        </div>
                    </div>
                </div>
                
                <!-- 評価分布セクション -->
                <div class="section-header-row">
                    <h3 class="heading-md">
                        <i data-lucide="bar-chart-3" class="text-blue-300"></i>
                        <span>評価分布</span>
                    </h3>
                    <div id="session-distribution-help-button-container" class="section-header-help"></div>
                </div>

                <!-- 評価分布チャート（DistributionChartコンポーネントで生成） -->
                <div id="session-distribution-chart"></div>
            </div>

            <!-- 詳細分析 -->
            <div class="glass-card">
                <h3 class="heading-md">
                    <i data-lucide="microscope" style="width: 24px; height: 24px;"></i>
                    <span>詳細分析</span>
                </h3>
                <div class="space-y-2" id="note-results">
                    <!-- JavaScriptで動的生成 -->
                </div>
            </div>

            <!-- Action Buttons -->
            <section class="action-buttons">
                <button class="btn btn-primary btn-next-session">
                    <i data-lucide="arrow-right" style="width: 24px; height: 24px;"></i>
                    <span>次の基音へ</span>
                </button>
            </section>
            </div> <!-- session-result-content end -->
        </main>
    </div> <!-- container end -->