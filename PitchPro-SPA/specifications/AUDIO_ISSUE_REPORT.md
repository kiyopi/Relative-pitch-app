# 調査報告: 基音再生時の「波打つような音（揺れ）」について

## 現象
前回の修正（v2.9.8）適用後、PC環境において「ブチ音」は軽減されたものの、代わりに「音が波打って聞こえる（揺れる）」という新たな問題が発生しました。

## 原因の分析
今回導入した「スケジュール再生（`Tone.now() + 0.05`）」が、PCのオーディオドライバやブラウザの処理タイミングと干渉している可能性が高いと考えられます。

1.  **タイミングの不整合:**
    `Tone.now()`（オーディオ時間）と実時間の間にズレや揺らぎ（ジッター）がある場合、指定した「0.05秒後」というタイミングに合わせて再生しようとする処理が、微細な再生速度の変化やバッファの詰まりを引き起こし、それが「音の揺れ」として知覚されている可能性があります。

2.  **バッファリングの影響:**
    PCの負荷状況によっては、スケジュールされたイベントの処理がスムーズに行われず、断続的な処理落ち（アンダーラン）が発生し、それがトレモロ（音量揺れ）のような効果を生んでいる可能性があります。

## 修正案の提案
「スケジュール再生（遅延）」は副作用が大きいため廃止し、よりオーディオ的に自然な方法で「ブチ音」を解消するアプローチに変更することを提案します。

### 提案内容
1.  **スケジュール再生の廃止:**
    `reference-tones.js` の `startTime = now + 0.05` を撤回し、即時再生（`void 0`）に戻します。これにより「音の揺れ」は解消されます。

2.  **アタックタイム（立ち上がり時間）の延長:**
    ブチ音（クリックノイズ）の物理的な原因は「急激な音の立ち上がり」です。
    現在 `0.02秒 (20ms)` となっているアタックタイムを、**`0.1秒 (100ms)`** 程度まで緩やかにします。
    *   **効果:** 音が「ドン！」ではなく「フワッ」と鳴るようになり、波形の急激な変化がなくなるため、ブチ音が物理的に発生しなくなります。
    *   **メリット:** スケジューリングに依存しないため、PCの性能や負荷に左右されず、安定してノイズを除去できます。

### 修正対象ファイル
*   `js/core/reference-tones.js`

この修正方針でよろしければ、実装作業に移ります。指示をお待ちしております。
