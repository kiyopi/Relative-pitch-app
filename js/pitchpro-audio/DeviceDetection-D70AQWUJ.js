"use strict";const i=class i{static getDeviceSpecs(){if(i.cachedSpecs)return i.cachedSpecs;if(typeof window>"u"||typeof navigator>"u")return i.getDefaultSpecs();const t=navigator.userAgent,e=i.analyzeUserAgent(t);return i.cachedSpecs=e,console.log("ðŸ“± [DeviceDetection] Device analysis:",{userAgent:t.substring(0,100)+"...",deviceType:e.deviceType,isIOS:e.isIOS,sensitivity:e.sensitivity,divisor:e.divisor}),e}static analyzeUserAgent(t){const e=/iPhone/.test(t),o=/iPad/.test(t),a=/Macintosh/.test(t)&&"ontouchend"in document,d=/iPad|iPhone|iPod/.test(t),p=/iPad|iPhone|iPod/.test(navigator.platform||""),r=e||o||a||d||p;let s="PC";e?s="iPhone":o||a?s="iPad":r&&(s=i.detectIOSDeviceType());const n=i.getDeviceOptimizations(s,r);return{deviceType:s,isIOS:r,sensitivity:n.sensitivity,noiseGate:n.noiseGate,divisor:n.divisor,gainCompensation:n.gainCompensation,noiseThreshold:n.noiseThreshold,smoothingFactor:n.smoothingFactor}}static detectIOSDeviceType(){const t=window.screen.width,e=window.screen.height,o=Math.max(t,e),a=Math.min(t,e);return o>=768||o>=700&&a>=500?"iPad":"iPhone"}static getDeviceOptimizations(t,e){switch(t){case"iPad":return{sensitivity:7,noiseGate:.01,divisor:4,gainCompensation:1.5,noiseThreshold:12,smoothingFactor:.2};case"iPhone":return{sensitivity:3,noiseGate:.015,divisor:4,gainCompensation:1.5,noiseThreshold:12,smoothingFactor:.2};case"PC":default:return{sensitivity:1,noiseGate:.02,divisor:6,gainCompensation:1,noiseThreshold:15,smoothingFactor:.2}}}static getDefaultSpecs(){return{deviceType:"PC",isIOS:!1,sensitivity:1,noiseGate:.02,divisor:6,gainCompensation:1,noiseThreshold:15,smoothingFactor:.2}}static supportsWebAudio(){return typeof window<"u"&&(typeof window.AudioContext<"u"||typeof window.webkitAudioContext<"u")}static supportsMediaDevices(){return typeof navigator<"u"&&typeof navigator.mediaDevices<"u"&&typeof navigator.mediaDevices.getUserMedia<"u"}static supportsMediaRecorder(){return typeof window<"u"&&typeof window.MediaRecorder<"u"}static getDeviceCapabilities(){return{deviceSpecs:i.getDeviceSpecs(),webAudioSupport:i.supportsWebAudio(),mediaDevicesSupport:i.supportsMediaDevices(),mediaRecorderSupport:i.supportsMediaRecorder(),touchSupport:"ontouchend"in document,userAgent:typeof navigator<"u"?navigator.userAgent:"Unknown",screenSize:typeof window<"u"?{width:window.screen.width,height:window.screen.height,pixelRatio:window.devicePixelRatio}:null,language:typeof navigator<"u"?navigator.language:"Unknown",platform:typeof navigator<"u"&&navigator.platform||"Unknown"}}static isMobile(){return i.getDeviceSpecs().isIOS||/Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test((navigator==null?void 0:navigator.userAgent)||"")}static isTablet(){if(i.getDeviceSpecs().deviceType==="iPad")return!0;const e=(navigator==null?void 0:navigator.userAgent)||"";return/Android/i.test(e)&&!/Mobile/i.test(e)}static isDesktop(){return!i.isMobile()&&!i.isTablet()}static getOptimalAudioConstraints(){const t=i.getDeviceSpecs(),e={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,sampleRate:44100,channelCount:1,sampleSize:16,deviceId:{ideal:"default"}}};return t.isIOS&&e.audio&&typeof e.audio=="object"&&(e.audio={...e.audio,googAutoGainControl:!1,googNoiseSuppression:!1,googEchoCancellation:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1,googBeamforming:!1,mozAutoGainControl:!1,mozNoiseSuppression:!1}),e}static clearCache(){i.cachedSpecs=null}static getDebugInfo(){return{...i.getDeviceCapabilities(),detectionMethods:{userAgentIPhone:/iPhone/.test((navigator==null?void 0:navigator.userAgent)||""),userAgentIPad:/iPad/.test((navigator==null?void 0:navigator.userAgent)||""),userAgentMacintosh:/Macintosh/.test((navigator==null?void 0:navigator.userAgent)||""),touchSupport:"ontouchend"in document,navigatorPlatform:(navigator==null?void 0:navigator.platform)||"Unknown",screenAspectRatio:typeof window<"u"?(window.screen.width/window.screen.height).toFixed(2):"Unknown"}}}};i.cachedSpecs=null;let c=i;exports.DeviceDetection=c;
//# sourceMappingURL=DeviceDetection-D70AQWUJ.js.map
