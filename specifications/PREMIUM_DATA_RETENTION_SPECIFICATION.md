# ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ‡ãƒ¼ã‚¿ä¿å­˜æœŸé–“ç®¡ç†ä»•æ§˜æ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v1.2.0
**ä½œæˆæ—¥**: 2025å¹´10æœˆ27æ—¥
**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ27æ—¥
**å®Ÿè£…å¯¾è±¡**: data-manager.js v2.1.0 + SocialShareManagerï¼ˆæ–°è¦å®Ÿè£…äºˆå®šï¼‰

---

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [èƒŒæ™¯ã¨ç›®çš„](#èƒŒæ™¯ã¨ç›®çš„)
3. [ãƒã‚¤ãƒ©ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥](#ãƒã‚¤ãƒ©ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥)
4. [ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºåˆ†æ](#ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºåˆ†æ)
5. [ä¿å­˜æœŸé–“ä»•æ§˜](#ä¿å­˜æœŸé–“ä»•æ§˜)
6. [å®Ÿè£…è¨­è¨ˆ](#å®Ÿè£…è¨­è¨ˆ)
7. [SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½å®Ÿè£…](#snsã‚·ã‚§ã‚¢æ©Ÿèƒ½å®Ÿè£…)
8. [å®¹é‡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ](#å®¹é‡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ )
9. [Phase 2æ‹¡å¼µè¨ˆç”»](#phase-2æ‹¡å¼µè¨ˆç”»)

---

## æ¦‚è¦

### ç›®çš„
ãƒ•ãƒªãƒ¼ãƒŸã‚¢ãƒ åç›Šãƒ¢ãƒ‡ãƒ«ã«ãŠã‘ã‚‹ã€ç„¡æ–™ãƒ—ãƒ©ãƒ³ãƒ»ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ã®ãƒ‡ãƒ¼ã‚¿ä¿å­˜æœŸé–“å·®åˆ¥åŒ–ã‚’å®Ÿç¾ã™ã‚‹ã€‚

### è¨­è¨ˆæ–¹é‡
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¸è¦**: localStorageå®Œçµå‹ï¼ˆã‚³ã‚¹ãƒˆæœ€å°åŒ–ï¼‰
- **ã‚·ãƒ³ãƒ—ãƒ«å®Ÿè£…**: Phase 1ã§åŸºæœ¬æ©Ÿèƒ½å®Ÿè£…ï¼ˆãƒ‡ãƒãƒƒã‚°å„ªå…ˆï¼‰
- **æ®µéšçš„æ‹¡å¼µ**: Phase 2ã§PDF/CSVå‡ºåŠ›è¿½åŠ 

### å¯¾è±¡ç¯„å›²
- **ç„¡æ–™ãƒ—ãƒ©ãƒ³**: 7æ—¥åˆ†ãƒ‡ãƒ¼ã‚¿ä¿å­˜
- **ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³**: ç„¡åˆ¶é™ãƒ‡ãƒ¼ã‚¿ä¿å­˜ï¼ˆå®¹é‡åˆ¶é™å†…ï¼‰

---

## èƒŒæ™¯ã¨ç›®çš„

### åç›ŠåŒ–æˆ¦ç•¥ã¨ã®æ•´åˆæ€§

#### ãƒ•ãƒªãƒ¼ãƒŸã‚¢ãƒ ãƒ¢ãƒ‡ãƒ«ï¼ˆRELEASE_AND_MONETIZATION_PLAN.mdæº–æ‹ ï¼‰

**é‡è¦ãªæˆ¦ç•¥å¤‰æ›´ï¼ˆv1.2.0ï¼‰**:
- âœ… **ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ã‚‚ç·åˆè©•ä¾¡ã‚’å®Œå…¨è¡¨ç¤º** - ã‚·ã‚§ã‚¢ä¿ƒé€²ã®ãŸã‚
- âœ… **SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½ã‚’æœ€å„ªå…ˆå®Ÿè£…** - ãƒã‚¤ãƒ©ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã®æ ¸å¿ƒ
- âœ… **ãƒ‡ãƒ¼ã‚¿ã¯ä¿å­˜ã—ãªã„** - ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã¸ã®å‹•æ©Ÿä»˜ã‘

```typescript
const pricingModel = {
  free: {
    price: "Â¥0",
    features: [
      "ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ãƒ¢ãƒ¼ãƒ‰ç„¡åˆ¶é™åˆ©ç”¨",
      "ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Œäº†æ™‚ã«ç·åˆè©•ä¾¡è¡¨ç¤º",    // â† é‡è¦å¤‰æ›´
      "SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½ï¼ˆTwitter/LINEç­‰ï¼‰",  // â† æ–°è¦è¿½åŠ 
      "ãƒ‡ãƒ¼ã‚¿ä¿å­˜ãªã—ï¼ˆå±¥æ­´éè¡¨ç¤ºï¼‰",      // â† æœ¬ä»•æ§˜ã§å®Ÿè£…
      "åºƒå‘Šè¡¨ç¤ºã‚ã‚Š"
    ],
    restrictions: [
      "é€£ç¶šãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ¢ãƒ¼ãƒ‰: ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯",
      "12éŸ³éšãƒ¢ãƒ¼ãƒ‰: ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯",
      "ç·´ç¿’å±¥æ­´: ä¿å­˜ã•ã‚Œãªã„",
      "ç·åˆè©•ä¾¡ç”»é¢ï¼ˆå±¥æ­´ï¼‰: ãƒ‡ãƒ¼ã‚¿ãªã—"
    ]
  },

  premium: {
    price: "Â¥480/æœˆ or Â¥4,800/å¹´",
    features: [
      "å…¨ãƒ¢ãƒ¼ãƒ‰ç„¡åˆ¶é™åˆ©ç”¨",
      "å…¨ã¦ã®ç·´ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•ä¿å­˜",       // â† å·®åˆ¥åŒ–ãƒã‚¤ãƒ³ãƒˆ
      "ç·åˆè©•ä¾¡ç”»é¢ã§å±¥æ­´ç¢ºèª",
      "è©³ç´°åˆ†æãƒ¬ãƒãƒ¼ãƒˆ",               // â† Phase 2ã§å®Ÿè£…
      "çµæœã®PDF/CSVå‡ºåŠ›",             // â† Phase 2ã§å®Ÿè£…
      "åºƒå‘Šå®Œå…¨é™¤å»",
      "ã‚«ã‚¹ã‚¿ãƒ ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ä½œæˆ",
      "ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç·´ç¿’å¯¾å¿œ",
      "å„ªå…ˆã‚µãƒãƒ¼ãƒˆ"
    ]
  }
};
```

### ãƒã‚¤ãƒ©ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥

#### æˆé•·ãƒ«ãƒ¼ãƒ—ã®è¨­è¨ˆ
```
ç„¡æ–™ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆç·´ç¿’ï¼‰
â†“
ç·åˆè©•ä¾¡è¡¨ç¤ºï¼ˆç¾ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰
â†“
SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
â†“
Twitter/Instagram/LINEã§æŠ•ç¨¿
â†“
ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ãŒè¦‹ã‚‹
â†“
ã€Œã“ã®ã‚¢ãƒ—ãƒªé¢ç™½ãã†ï¼ã€
â†“
ãƒªãƒ³ã‚¯ã‹ã‚‰ã‚¢ãƒ—ãƒªã¸ã‚¢ã‚¯ã‚»ã‚¹
â†“
æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç²å¾— ğŸ‰
â†“
ç„¡æ–™ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆç·´ç¿’ï¼‰â†’ãƒ«ãƒ¼ãƒ—ç¶™ç¶š
```

#### SNSã‚·ã‚§ã‚¢ã®é‡è¦æ€§
1. **èªçŸ¥æ‹¡å¤§**: ç„¡æ–™ã§æœ€å¤§ã®ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°åŠ¹æœ
2. **ç¤¾ä¼šçš„è¨¼æ˜**: å‹é”ãŒä½¿ã£ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã¯ä¿¡é ¼ã•ã‚Œã‚‹
3. **ç«¶äº‰å¿ƒç†**: ã€Œè‡ªåˆ†ã‚‚æŒ‘æˆ¦ã—ãŸã„ã€ã¨ã„ã†æ¬²æ±‚
4. **è‡ªç„¶ãªæµå…¥**: åºƒå‘Šè²»ã‚¼ãƒ­ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ç²å¾—

#### ã‚·ã‚§ã‚¢ã—ãŸããªã‚‹è¦ç´ 
- âœ… ç¾ã—ã„ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯
- âœ… å¤§ããç›®ç«‹ã¤ã‚°ãƒ¬ãƒ¼ãƒ‰è¡¨ç¤ºï¼ˆS/A/B/Cï¼‰
- âœ… è©•ä¾¡åˆ†å¸ƒã®è¦–è¦šåŒ–
- âœ… ã‚¢ãƒ—ãƒªURLãƒ»ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°è‡ªå‹•æŒ¿å…¥
- âœ… ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—ã§ã‚·ã‚§ã‚¢å¯èƒ½

### ãªãœãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ä½¿ã‚ãªã„ã®ã‹

#### 1. ã‚¢ãƒ—ãƒªã®ç‰¹æ€§
- **å®Œå…¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Œçµå‹**: éŸ³å£°å‡¦ç†ãƒ»è©•ä¾¡ãƒ»ä¿å­˜ã™ã¹ã¦ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å®Œçµ
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼é–“ãƒ‡ãƒ¼ã‚¿å…±æœ‰ä¸è¦**: å€‹äººç·´ç¿’ãƒ‡ãƒ¼ã‚¿ã®ã¿ç®¡ç†
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸä¸è¦**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å®Œå…¨å¯¾å¿œãŒå¼·ã¿

#### 2. ã‚³ã‚¹ãƒˆé¢ã®å„ªä½æ€§
| é …ç›® | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãªã— | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚ã‚Š |
|------|-----------------|-----------------|
| ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | GitHub Pagesï¼ˆç„¡æ–™ï¼‰ | ã‚µãƒ¼ãƒãƒ¼æœˆé¡Â¥5,000+ |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | ä¸è¦ | æœˆé¡Â¥3,000+ |
| é‹ç”¨ç›£è¦– | ä¸è¦ | æœˆé¡Â¥2,000+ |
| ã‚¹ã‚±ãƒ¼ãƒ«å¯¾å¿œ | ä¸è¦ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼å¢—åŠ ã§ã‚‚ç„¡æ–™ï¼‰ | å¿…è¦ï¼ˆå¾“é‡èª²é‡‘ï¼‰ |
| **æœˆé¡åˆè¨ˆ** | **Â¥0** | **Â¥10,000+** |

#### 3. æŠ€è¡“çš„ãƒ¡ãƒªãƒƒãƒˆ
- âœ… **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å®Œå…¨å¯¾å¿œ**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸è¦ã§ç·´ç¿’å¯èƒ½
- âœ… **é«˜é€Ÿãƒ¬ã‚¹ãƒãƒ³ã‚¹**: ã‚µãƒ¼ãƒãƒ¼é€šä¿¡ãªã—ã§å³åº§ã«ãƒ‡ãƒ¼ã‚¿ä¿å­˜
- âœ… **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·**: ãƒ‡ãƒ¼ã‚¿ãŒãƒ‡ãƒã‚¤ã‚¹å†…ã®ã¿ã«ä¿å­˜
- âœ… **ã‚¹ã‚±ãƒ¼ãƒ«ã®å¿ƒé…ãªã—**: ãƒ¦ãƒ¼ã‚¶ãƒ¼å¢—åŠ ã§ã‚‚ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ã‚¹ãƒˆãªã—

#### 4. å°†æ¥çš„ãªæ‹¡å¼µæ€§
- å¿…è¦ã«ãªã£ãŸã‚‰æ®µéšçš„ã«ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å°å…¥å¯èƒ½
- Phase 2ã§**ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½**å®Ÿè£…ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªå·±ç®¡ç†ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æœ›ã«å¿œã˜ã¦æ®µéšçš„ã«ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸæ¤œè¨

---

## ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºåˆ†æ

### ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

#### å®Ÿéš›ã®JSONãƒ‡ãƒ¼ã‚¿ä¾‹
```json
{
  "sessionId": 1,
  "mode": "random",
  "baseNote": "C4",
  "baseFrequency": 261.63,
  "startTime": 1730000000000,
  "endTime": 1730000180000,
  "duration": 180000,
  "completed": true,
  "pitchErrors": [
    {
      "step": 0,
      "expectedNote": "C4",
      "expectedFrequency": 261.63,
      "detectedFrequency": 263.45,
      "errorInCents": 12.5,
      "clarity": 0.985,
      "volume": 0.745,
      "timestamp": 1730000010000
    }
    // ... 7å›åˆ†ï¼ˆãƒ‰ï½ãƒ‰ï¼‰
  ]
}
```

### ã‚µã‚¤ã‚ºå†…è¨³

#### ã‚»ãƒƒã‚·ãƒ§ãƒ³åŸºæœ¬æƒ…å ±: ç´„200ãƒã‚¤ãƒˆ
```
sessionId: 4ãƒã‚¤ãƒˆ
mode: 15ãƒã‚¤ãƒˆ
baseNote: 10ãƒã‚¤ãƒˆ
baseFrequency: 8ãƒã‚¤ãƒˆ
startTime: 13ãƒã‚¤ãƒˆ
endTime: 13ãƒã‚¤ãƒˆ
duration: 8ãƒã‚¤ãƒˆ
completed: 5ãƒã‚¤ãƒˆ
JSONæ§‹é€ ï¼ˆæ‹¬å¼§ãƒ»ã‚«ãƒ³ãƒç­‰ï¼‰: ç´„140ãƒã‚¤ãƒˆ
```

#### 1ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆéŸ³ç¨‹ãƒ‡ãƒ¼ã‚¿ï¼‰: ç´„150ãƒã‚¤ãƒˆ
```
step: 4ãƒã‚¤ãƒˆ
expectedNote: 10ãƒã‚¤ãƒˆ
expectedFrequency: 8ãƒã‚¤ãƒˆ
detectedFrequency: 8ãƒã‚¤ãƒˆ
errorInCents: 8ãƒã‚¤ãƒˆ
clarity: 8ãƒã‚¤ãƒˆ
volume: 8ãƒã‚¤ãƒˆ
timestamp: 13ãƒã‚¤ãƒˆ
JSONæ§‹é€ ï¼ˆæ‹¬å¼§ãƒ»ã‚«ãƒ³ãƒç­‰ï¼‰: ç´„83ãƒã‚¤ãƒˆ
```

#### 8ã‚¹ãƒ†ãƒƒãƒ—åˆ†: 1,200ãƒã‚¤ãƒˆ
```
150ãƒã‚¤ãƒˆ Ã— 8ã‚¹ãƒ†ãƒƒãƒ— = 1,200ãƒã‚¤ãƒˆ
```

### **1ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆè¨ˆ**: ç´„ **1,400ãƒã‚¤ãƒˆï¼ˆ1.4KBï¼‰**

---

## å®¹é‡ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### ç„¡æ–™ãƒ—ãƒ©ãƒ³ï¼ˆ7æ—¥åˆ†ä¿å­˜ï¼‰
```
æƒ³å®šåˆ©ç”¨: 1æ—¥3ã‚»ãƒƒã‚·ãƒ§ãƒ³ Ã— 7æ—¥ = 21ã‚»ãƒƒã‚·ãƒ§ãƒ³
ãƒ‡ãƒ¼ã‚¿é‡: 21ã‚»ãƒƒã‚·ãƒ§ãƒ³ Ã— 1.4KB = 29.4KB

â†’ localStorageåˆ¶é™5MBã®ç´„0.6%ä½¿ç”¨ï¼ˆå…¨ãå•é¡Œãªã—ï¼‰
```

### ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ï¼ˆç„¡åˆ¶é™ï¼‰

#### 1å¹´é–“ã®åˆ©ç”¨
```
æƒ³å®šåˆ©ç”¨: 1æ—¥5ã‚»ãƒƒã‚·ãƒ§ãƒ³ Ã— 365æ—¥ = 1,825ã‚»ãƒƒã‚·ãƒ§ãƒ³
ãƒ‡ãƒ¼ã‚¿é‡: 1,825ã‚»ãƒƒã‚·ãƒ§ãƒ³ Ã— 1.4KB = 2,555KBï¼ˆç´„2.5MBï¼‰

â†’ localStorageåˆ¶é™5MBã®ç´„50%ä½¿ç”¨ï¼ˆååˆ†ãªä½™è£•ï¼‰
```

#### 2å¹´é–“ã®åˆ©ç”¨
```
æƒ³å®šåˆ©ç”¨: 1æ—¥5ã‚»ãƒƒã‚·ãƒ§ãƒ³ Ã— 730æ—¥ = 3,650ã‚»ãƒƒã‚·ãƒ§ãƒ³
ãƒ‡ãƒ¼ã‚¿é‡: 3,650ã‚»ãƒƒã‚·ãƒ§ãƒ³ Ã— 1.4KB = 5,110KBï¼ˆç´„5MBï¼‰

â†’ localStorageåˆ¶é™5MBã®ç´„100%ä½¿ç”¨ï¼ˆä¸Šé™åˆ°é”ï¼‰
```

### æœ€å¤§ä¿å­˜å¯èƒ½ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°
```
5MBï¼ˆlocalStorageä¸Šé™ï¼‰ Ã· 1.4KBï¼ˆ1ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰ = ç´„3,571ã‚»ãƒƒã‚·ãƒ§ãƒ³

â†’ 1æ—¥5ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ç´„714æ—¥åˆ†ï¼ˆç´„2å¹´åˆ†ï¼‰ä¿å­˜å¯èƒ½
```

### çµè«–

| ãƒ—ãƒ©ãƒ³ | ä¿å­˜æœŸé–“ | ãƒ‡ãƒ¼ã‚¿é‡ | localStorageä½¿ç”¨ç‡ | è©•ä¾¡ |
|-------|---------|---------|-------------------|------|
| ç„¡æ–™ | 7æ—¥åˆ† | ç´„30KB | 0.6% | âœ… å…¨ãå•é¡Œãªã— |
| ãƒ—ãƒ¬ãƒŸã‚¢ãƒ  | 1å¹´åˆ† | ç´„2.5MB | 50% | âœ… ååˆ†ãªä½™è£• |
| ãƒ—ãƒ¬ãƒŸã‚¢ãƒ  | 2å¹´åˆ† | ç´„5MB | 100% | âš ï¸ ä¸Šé™åˆ°é” |

**åˆ¤æ–­**:
- ç„¡æ–™ãƒ—ãƒ©ãƒ³ã¯å®¹é‡å¿ƒé…ãªã—
- ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ã¯1å¹´ä»¥ä¸Šä½™è£•ã§ä¿å­˜å¯èƒ½
- 4MBåˆ°é”æ™‚ã«è­¦å‘Šè¡¨ç¤ºï¼ˆæ¨å¥¨å®‰å…¨ãƒãƒ¼ã‚¸ãƒ³ï¼‰

---

## ä¿å­˜æœŸé–“ä»•æ§˜

### ãƒ—ãƒ©ãƒ³åˆ¥ä¿å­˜ãƒãƒªã‚·ãƒ¼ï¼ˆv1.2.0æ›´æ–°ï¼‰

#### ç„¡æ–™ãƒ—ãƒ©ãƒ³ï¼ˆãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ãƒ¢ãƒ¼ãƒ‰ï¼‰
```typescript
{
  mode: 'random',
  accessControl: 'unlimited', // ã‚¢ã‚¯ã‚»ã‚¹ç„¡åˆ¶é™
  sessionEvaluation: 'full_display', // ç·åˆè©•ä¾¡ã‚’å®Œå…¨è¡¨ç¤º
  socialShare: 'enabled', // SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½åˆ©ç”¨å¯èƒ½
  dataRetention: 'no_save', // ãƒ‡ãƒ¼ã‚¿ã¯ä¿å­˜ã—ãªã„
  historyAccess: 'no_data', // å±¥æ­´ç”»é¢ã«ãƒ‡ãƒ¼ã‚¿ãªã—
  upgradeIncentive: 'ç·´ç¿’å±¥æ­´ã‚’è¨˜éŒ²ã—ãŸã„ â†’ ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã¸'
}
```

**é‡è¦ãªæˆ¦ç•¥çš„å¤‰æ›´ç‚¹ï¼ˆv1.2.0ï¼‰**:
- âœ… **ç·åˆè©•ä¾¡ã‚’å®Œå…¨è¡¨ç¤º** - ã‚·ã‚§ã‚¢ä¿ƒé€²ã®ãŸã‚ã€è©•ä¾¡ã¯å…¨ã¦è¦‹ã›ã‚‹
- âœ… **SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½åˆ©ç”¨å¯èƒ½** - ãƒã‚¤ãƒ©ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã®æ ¸å¿ƒ
- âœ… **ãƒ‡ãƒ¼ã‚¿ã¯ä¿å­˜ã—ãªã„** - ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã¸ã®æ˜ç¢ºãªå‹•æ©Ÿä»˜ã‘
- âœ… **å±¥æ­´ã¯ç©ºã£ã½** - ã€Œéå»ã¨æ¯”è¼ƒã—ãŸã„ã€ã¨ã„ã†æ¬²æ±‚ã‚’ç”Ÿã‚€

#### ç„¡æ–™ãƒ—ãƒ©ãƒ³ï¼ˆé€£ç¶šãƒ»12éŸ³éšãƒ¢ãƒ¼ãƒ‰ï¼‰
```typescript
{
  mode: 'continuous' | '12-tone',
  accessControl: 'locked', // ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ï¼ˆãƒ—ãƒ¬ãƒŸã‚¢ãƒ é™å®šï¼‰
  upgradeRequired: true
}
```

#### ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³
```typescript
{
  retentionPeriod: 'unlimited',
  dataRetention: 'keep_all', // å…¨ãƒ‡ãƒ¼ã‚¿ä¿æŒ
  displayPolicy: 'show_all', // å…¨ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º
  maxSessions: 3571, // localStorageå®¹é‡åˆ¶é™ï¼ˆç´„2å¹´åˆ†ï¼‰
  autoCleanup: 'on_capacity_warning', // å®¹é‡è­¦å‘Šæ™‚ã®ã¿
  cleanupLogic: '4MBè¶…éæ™‚ã€å¤ã„é †ã«å‰Šé™¤ï¼ˆæœ€æ–°100ä»¶ä¿æŒï¼‰'
}
```

### ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒˆãƒªã‚¬ãƒ¼

#### ç„¡æ–™ãƒ—ãƒ©ãƒ³: ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ãªã—
```typescript
// ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜ â†’ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒã‚§ãƒƒã‚¯
saveSessionResult(sessionData) â†’ cleanupSessionData()

// ãƒ‡ãƒ¼ã‚¿ã¯å‰Šé™¤ã•ã‚Œãªã„ã€è¡¨ç¤ºåˆ¶é™ã®ã¿é©ç”¨
// ãƒ­ã‚°: "ğŸ“Š ç„¡æ–™ãƒ—ãƒ©ãƒ³: 100ä»¶ä¿å­˜ä¸­ã€10ä»¶è¡¨ç¤ºå¯èƒ½ï¼ˆ7æ—¥ä»¥å†…ã®ã¿ï¼‰"
```

#### ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³: å®¹é‡è­¦å‘Šæ™‚ã®ã¿
```typescript
// ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜ â†’ å®¹é‡ãƒã‚§ãƒƒã‚¯ â†’ å¿…è¦ã«å¿œã˜ã¦ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
saveSessionResult(sessionData) â†’ checkStorageUsage()
  â†“ (å®¹é‡ > 4MBæ™‚)
cleanupSessionData() // æœ€æ–°100ä»¶ã®ã¿ä¿æŒ
```

---

## å®Ÿè£…è¨­è¨ˆ

### æ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§

#### 1. `cleanupSessionData()`
**ç›®çš„**: ãƒ—ãƒ©ãƒ³åˆ¥ã®è‡ªå‹•ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

```typescript
/**
 * ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
 * ç„¡æ–™: 7æ—¥ã‚ˆã‚Šå¤ã„ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤
 * ãƒ—ãƒ¬ãƒŸã‚¢ãƒ : å®¹é‡è¶…éæ™‚ã®ã¿å‰Šé™¤
 *
 * @returns {number} ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å¾Œã®ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°
 */
static cleanupSessionData() {
  const subscriptionData = this.getSubscriptionData();
  const isPremium = subscriptionData.premiumAccess.status === 'active';
  const sessions = this.getFromStorage(this.KEYS.SESSION_DATA) || [];

  if (!isPremium) {
    // ç„¡æ–™: 7æ—¥ã‚ˆã‚Šå¤ã„ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤
    const sevenDaysAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);
    const filteredSessions = sessions.filter(session =>
      new Date(session.startTime) > sevenDaysAgo
    );

    this.saveToStorage(this.KEYS.SESSION_DATA, filteredSessions);
    console.log(`ğŸ—‘ï¸ ç„¡æ–™ãƒ—ãƒ©ãƒ³: ${sessions.length - filteredSessions.length}ä»¶ã®å¤ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤`);
    return filteredSessions.length;

  } else {
    // ãƒ—ãƒ¬ãƒŸã‚¢ãƒ : å®¹é‡ãƒã‚§ãƒƒã‚¯ã®ã¿
    const storageUsage = this.getStorageUsage();

    if (storageUsage.totalSize > 4 * 1024 * 1024) { // 4MBè¶…é
      // å¤ã„é †ã«å‰Šé™¤ï¼ˆæœ€æ–°100ä»¶ã‚’ä¿æŒï¼‰
      const sortedSessions = sessions.sort((a, b) =>
        new Date(b.startTime) - new Date(a.startTime)
      );
      const trimmedSessions = sortedSessions.slice(0, 100);

      this.saveToStorage(this.KEYS.SESSION_DATA, trimmedSessions);
      console.log(`âš ï¸ ãƒ—ãƒ¬ãƒŸã‚¢ãƒ : å®¹é‡è¶…éã®ãŸã‚${sessions.length - 100}ä»¶å‰Šé™¤`);
      return trimmedSessions.length;
    }

    console.log(`âœ… ãƒ—ãƒ¬ãƒŸã‚¢ãƒ : ${sessions.length}ä»¶ä¿æŒä¸­ï¼ˆå®¹é‡æ­£å¸¸ï¼‰`);
    return sessions.length;
  }
}
```

#### 2. `saveSessionResultWithCleanup()`
**ç›®çš„**: ä¿å­˜æ™‚ã«è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚’å®Ÿè¡Œ

```typescript
/**
 * ãƒ‡ãƒ¼ã‚¿ä¿å­˜æ™‚ã®è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ä»˜ãä¿å­˜
 *
 * @param {Object} sessionData - ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿
 * @returns {Object} ä¿å­˜ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³
 */
static saveSessionResultWithCleanup(sessionData) {
  // é€šå¸¸ã®ä¿å­˜å‡¦ç†
  const savedSession = this.saveSessionResult(sessionData);

  // è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Ÿè¡Œ
  this.cleanupSessionData();

  return savedSession;
}
```

#### 3. `getDataRetentionInfo()`
**ç›®çš„**: ä¿å­˜çŠ¶æ³ã®å¯è¦–åŒ–ï¼ˆè¨­å®šç”»é¢ãƒ»ãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰

```typescript
/**
 * ãƒ—ãƒ¬ãƒŸã‚¢ãƒ å°‚ç”¨: ä¿å­˜å¯èƒ½æœŸé–“ã‚’å–å¾—
 *
 * @returns {Object} ãƒ‡ãƒ¼ã‚¿ä¿å­˜çŠ¶æ³
 */
static getDataRetentionInfo() {
  const subscriptionData = this.getSubscriptionData();
  const isPremium = subscriptionData.premiumAccess.status === 'active';
  const sessions = this.getFromStorage(this.KEYS.SESSION_DATA) || [];

  if (sessions.length === 0) {
    return {
      retentionPeriod: isPremium ? 'unlimited' : '7days',
      oldestSession: null,
      totalSessions: 0,
      storageUsage: this.getStorageUsage()
    };
  }

  const sortedSessions = sessions.sort((a, b) =>
    new Date(a.startTime) - new Date(b.startTime)
  );
  const oldestSession = sortedSessions[0];
  const daysSinceOldest = Math.floor(
    (new Date() - new Date(oldestSession.startTime)) / (1000 * 60 * 60 * 24)
  );

  return {
    retentionPeriod: isPremium ? 'unlimited' : '7days',
    oldestSession: oldestSession.startTime,
    oldestSessionDate: new Date(oldestSession.startTime).toLocaleDateString('ja-JP'),
    daysSinceOldest,
    totalSessions: sessions.length,
    storageUsage: this.getStorageUsage(),
    isPremium
  };
}
```

#### 4. `checkStorageWarning()`
**ç›®çš„**: å®¹é‡è­¦å‘Šãƒã‚§ãƒƒã‚¯ï¼ˆUIè¡¨ç¤ºç”¨ï¼‰

```typescript
/**
 * å®¹é‡è­¦å‘Šãƒã‚§ãƒƒã‚¯
 *
 * @returns {Object} è­¦å‘Šæƒ…å ±
 */
static checkStorageWarning() {
  const usage = this.getStorageUsage();
  const usagePercent = usage.usage;

  if (usagePercent >= 80) {
    return {
      level: 'critical',
      message: 'ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ãŒ80%ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚å¤ã„ãƒ‡ãƒ¼ã‚¿ãŒè‡ªå‹•å‰Šé™¤ã•ã‚Œã¾ã™ã€‚',
      usagePercent,
      totalMB: usage.totalMB,
      shouldCleanup: true
    };
  } else if (usagePercent >= 60) {
    return {
      level: 'warning',
      message: 'ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ãŒ60%ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚',
      usagePercent,
      totalMB: usage.totalMB,
      shouldCleanup: false
    };
  }

  return {
    level: 'normal',
    message: 'ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ã¯æ­£å¸¸ã§ã™ã€‚',
    usagePercent,
    totalMB: usage.totalMB,
    shouldCleanup: false
  };
}
```

---

## SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½å®Ÿè£…

### è¨­è¨ˆæ–¹é‡

#### æˆ¦ç•¥çš„é‡è¦æ€§
SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½ã¯**ãƒã‚¤ãƒ©ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã®æ ¸å¿ƒ**ã§ã‚ã‚Šã€ä»¥ä¸‹ã®ç†ç”±ã§æœ€å„ªå…ˆå®Ÿè£…:

1. **ã‚¼ãƒ­ã‚³ã‚¹ãƒˆãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°**: åºƒå‘Šè²»ãªã—ã§æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç²å¾—
2. **ç¤¾ä¼šçš„è¨¼æ˜åŠ¹æœ**: å‹é”ãŒä½¿ã£ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã¯ä¿¡é ¼ã•ã‚Œã‚‹
3. **ç«¶äº‰å¿ƒç†ã®æ´»ç”¨**: ä»–äººã®æˆç¸¾ã‚’è¦‹ã¦ã€Œè‡ªåˆ†ã‚‚æŒ‘æˆ¦ã—ãŸã„ã€
4. **è‡ªç„¶ãªæµå…¥**: SNSã‹ã‚‰ç›´æ¥ã‚¢ãƒ—ãƒªã¸èª˜å°

#### å®Ÿè£…å„ªå…ˆåº¦
```
Phase 1: SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½ï¼ˆæœ€å„ªå…ˆï¼‰
  â†“
Phase 2: ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›æ©Ÿèƒ½ï¼ˆæ¬¡å„ªå…ˆï¼‰
  â†“
Phase 3: è©³ç´°åˆ†ææ©Ÿèƒ½ï¼ˆå°†æ¥ï¼‰
```

### SocialShareManager ã‚¯ãƒ©ã‚¹è¨­è¨ˆ

#### ã‚¯ãƒ©ã‚¹æ§‹æˆ
```typescript
/**
 * SNSã‚·ã‚§ã‚¢çµ±åˆç®¡ç†ã‚¯ãƒ©ã‚¹
 *
 * æ©Ÿèƒ½:
 * - ã‚·ã‚§ã‚¢ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ
 * - Twitter/LINE/Instagramå¯¾å¿œ
 * - çµæœç”»åƒç”Ÿæˆï¼ˆOGPå¯¾å¿œï¼‰
 * - Web Share APIçµ±åˆ
 */
class SocialShareManager {
  // ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ
  static generateShareText(sessionResult)

  // ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ã‚·ã‚§ã‚¢
  static shareToTwitter(sessionResult)
  static shareToLine(sessionResult)
  static shareToInstagram(sessionResult)

  // ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚·ã‚§ã‚¢ï¼ˆãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œï¼‰
  static async shareNative(sessionResult)

  // ç”»åƒç”Ÿæˆï¼ˆOGPå¯¾å¿œï¼‰
  static async generateResultImage(sessionResult)
}
```

### ã‚·ã‚§ã‚¢ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ

#### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆ
```typescript
static generateShareText(sessionResult) {
  const { grade, totalScore, excellentCount, goodCount, passCount } = sessionResult;

  // ã‚°ãƒ¬ãƒ¼ãƒ‰åˆ¥çµµæ–‡å­—
  const gradeEmoji = {
    'S': 'ğŸ†',
    'A': 'â­',
    'B': 'ğŸ‘',
    'C': 'ğŸ’ª'
  };

  return `${gradeEmoji[grade]} ç›¸å¯¾éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°çµæœ

ã‚°ãƒ¬ãƒ¼ãƒ‰: ${grade}
ã‚¹ã‚³ã‚¢: ${totalScore}ç‚¹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ¨ Excellent: ${excellentCount}å€‹
âœ… Good: ${goodCount}å€‹
ğŸ“Š Pass: ${passCount}å€‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ã‚ãªãŸã‚‚æŒ‘æˆ¦ã—ã¦ã¿ã‚ˆã†ï¼
ğŸ‘‰ https://pitch-training.app

#ç›¸å¯¾éŸ³æ„Ÿ #éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚° #ã‚«ãƒ©ã‚ªã‚±ä¸Šé” #8va`;
}
```

#### ãƒ†ã‚­ã‚¹ãƒˆä¾‹ï¼ˆå®Ÿéš›ã®è¡¨ç¤ºï¼‰
```
ğŸ† ç›¸å¯¾éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°çµæœ

ã‚°ãƒ¬ãƒ¼ãƒ‰: S
ã‚¹ã‚³ã‚¢: 95ç‚¹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ¨ Excellent: 6å€‹
âœ… Good: 2å€‹
ğŸ“Š Pass: 0å€‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ã‚ãªãŸã‚‚æŒ‘æˆ¦ã—ã¦ã¿ã‚ˆã†ï¼
ğŸ‘‰ https://pitch-training.app

#ç›¸å¯¾éŸ³æ„Ÿ #éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚° #ã‚«ãƒ©ã‚ªã‚±ä¸Šé” #8va
```

### ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥å®Ÿè£…

#### Twitter ã‚·ã‚§ã‚¢
```typescript
static shareToTwitter(sessionResult) {
  const text = this.generateShareText(sessionResult);
  const url = 'https://pitch-training.app';
  const hashtags = 'ç›¸å¯¾éŸ³æ„Ÿ,éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°,ã‚«ãƒ©ã‚ªã‚±ä¸Šé”';

  // Twitter Intent URLï¼ˆå…¬å¼APIï¼‰
  const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}&hashtags=${hashtags}`;

  // æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ãï¼ˆãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œï¼‰
  window.open(twitterUrl, '_blank', 'width=600,height=400');

  console.log('ğŸ¦ Twitterã‚·ã‚§ã‚¢å®Ÿè¡Œ');
}
```

#### LINE ã‚·ã‚§ã‚¢
```typescript
static shareToLine(sessionResult) {
  const text = this.generateShareText(sessionResult);
  const url = 'https://pitch-training.app';

  // LINE Social Pluginsï¼ˆå…¬å¼APIï¼‰
  const lineUrl = `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`;

  window.open(lineUrl, '_blank', 'width=600,height=400');

  console.log('ğŸ’¬ LINEã‚·ã‚§ã‚¢å®Ÿè¡Œ');
}
```

#### Instagram ã‚·ã‚§ã‚¢ï¼ˆç”»åƒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ–¹å¼ï¼‰
```typescript
static async shareToInstagram(sessionResult) {
  // Instagram: ç›´æ¥ã‚·ã‚§ã‚¢APIãªã— â†’ ç”»åƒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ–¹å¼

  // 1. çµæœç”»åƒã‚’ç”Ÿæˆ
  const imageDataUrl = await this.generateResultImage(sessionResult);

  // 2. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ä½œæˆ
  const link = document.createElement('a');
  link.href = imageDataUrl;
  link.download = `pitch-training-result-${new Date().toISOString().split('T')[0]}.png`;
  link.click();

  // 3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«èª¬æ˜è¡¨ç¤º
  alert('ç”»åƒã‚’ä¿å­˜ã—ã¾ã—ãŸï¼\\nInstagramã‚¢ãƒ—ãƒªã§æŠ•ç¨¿ã—ã¦ãã ã•ã„ã€‚\\n\\nã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ä¾‹:\\nğŸµ ç›¸å¯¾éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°çµæœ\\nã‚ãªãŸã‚‚æŒ‘æˆ¦ã—ã¦ã¿ã‚ˆã†ï¼\\nğŸ‘‰ https://pitch-training.app\\n\\n#ç›¸å¯¾éŸ³æ„Ÿ #éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚° #ã‚«ãƒ©ã‚ªã‚±ä¸Šé”');

  console.log('ğŸ“¸ Instagramç”¨ç”»åƒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†');
}
```

### Web Share APIï¼ˆãƒã‚¤ãƒ†ã‚£ãƒ–ã‚·ã‚§ã‚¢ï¼‰

#### ãƒ¢ãƒã‚¤ãƒ«æœ€é©åŒ–å®Ÿè£…
```typescript
static async shareNative(sessionResult) {
  // Web Share APIå¯¾å¿œãƒã‚§ãƒƒã‚¯
  if (!navigator.share) {
    console.warn('âš ï¸ Web Share APIéå¯¾å¿œ - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè¡Œ');
    return this.shareToTwitter(sessionResult); // Twitterã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  }

  try {
    // ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚·ã‚§ã‚¢å®Ÿè¡Œ
    await navigator.share({
      title: 'ğŸµ ç›¸å¯¾éŸ³æ„Ÿãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°çµæœ',
      text: this.generateShareText(sessionResult),
      url: 'https://pitch-training.app'
    });

    console.log('âœ… ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚·ã‚§ã‚¢æˆåŠŸ');
    return true;

  } catch (error) {
    if (error.name === 'AbortError') {
      console.log('â„¹ï¸ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚·ã‚§ã‚¢ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«');
    } else {
      console.error('âŒ ã‚·ã‚§ã‚¢ã‚¨ãƒ©ãƒ¼:', error);
    }
    return false;
  }
}
```

### çµæœç”»åƒç”Ÿæˆï¼ˆOGPå¯¾å¿œï¼‰

#### Canvasæç”»å®Ÿè£…
```typescript
static async generateResultImage(sessionResult) {
  const { grade, totalScore, excellentCount, goodCount, passCount } = sessionResult;

  // Canvasä½œæˆï¼ˆOGPæ¨™æº–ã‚µã‚¤ã‚ºï¼‰
  const canvas = document.createElement('canvas');
  canvas.width = 1200;
  canvas.height = 630;

  const ctx = canvas.getContext('2d');

  // 1. ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯
  const gradient = ctx.createLinearGradient(0, 0, 1200, 630);
  gradient.addColorStop(0, '#667eea'); // ç´«
  gradient.addColorStop(1, '#764ba2'); // æ¿ƒç´«
  ctx.fillStyle = gradient;
  ctx.fillRect(0, 0, 1200, 630);

  // 2. ã‚¿ã‚¤ãƒˆãƒ«æç”»
  ctx.fillStyle = '#ffffff';
  ctx.font = 'bold 80px Inter';
  ctx.textAlign = 'center';
  ctx.fillText('ğŸµ çµæœç™ºè¡¨ ğŸµ', 600, 120);

  // 3. ã‚°ãƒ¬ãƒ¼ãƒ‰è¡¨ç¤ºï¼ˆå¤§ï¼‰
  ctx.font = 'bold 160px Inter';
  ctx.fillText(`ã‚°ãƒ¬ãƒ¼ãƒ‰: ${grade}`, 600, 280);

  // 4. ã‚¹ã‚³ã‚¢è¡¨ç¤º
  ctx.font = 'bold 100px Inter';
  ctx.fillText(`${totalScore}ç‚¹`, 600, 400);

  // 5. è©•ä¾¡åˆ†å¸ƒ
  ctx.font = '40px Inter';
  ctx.fillText(`âœ¨ Excellent: ${excellentCount}  âœ… Good: ${goodCount}  ğŸ“Š Pass: ${passCount}`, 600, 500);

  // 6. ã‚¢ãƒ—ãƒªURL
  ctx.font = 'bold 36px Inter';
  ctx.fillText('pitch-training.app', 600, 580);

  // 7. PNGå½¢å¼ã§å‡ºåŠ›
  return canvas.toDataURL('image/png');
}
```

#### ç”»åƒã‚µãƒ³ãƒ—ãƒ«ï¼ˆè¦–è¦šã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ï¼ˆç´«ã€œæ¿ƒç´«ï¼‰           â”‚
â”‚                                         â”‚
â”‚         ğŸµ çµæœç™ºè¡¨ ğŸµ                   â”‚
â”‚                                         â”‚
â”‚         ã‚°ãƒ¬ãƒ¼ãƒ‰: S                      â”‚
â”‚                                         â”‚
â”‚            95ç‚¹                          â”‚
â”‚                                         â”‚
â”‚  âœ¨ Excellent: 6  âœ… Good: 2  ğŸ“Š Pass: 0 â”‚
â”‚                                         â”‚
â”‚       pitch-training.app                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ã‚µã‚¤ã‚º: 1200Ã—630pxï¼ˆTwitter/Facebook OGPæ¨™æº–ï¼‰
```

### UIå®Ÿè£…ä¾‹

#### çµæœç”»é¢ã¸ã®ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³çµ±åˆ
```html
<!-- ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°çµæœç”»é¢ï¼ˆtrainingController.jsï¼‰ -->
<div class="glass-card result-summary">
  <h2 class="heading-lg">
    <i data-lucide="trophy"></i>
    <span>ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°çµæœ</span>
  </h2>

  <!-- ã‚°ãƒ¬ãƒ¼ãƒ‰è¡¨ç¤º -->
  <div class="grade-display">
    <span class="grade-badge grade-S">ã‚°ãƒ¬ãƒ¼ãƒ‰: S</span>
    <span class="score-value">95ç‚¹</span>
  </div>

  <!-- è©•ä¾¡åˆ†å¸ƒ -->
  <div class="evaluation-distribution">
    <!-- çœç•¥ -->
  </div>

  <!-- SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ï¼ˆé‡è¦ï¼ï¼‰ -->
  <div class="share-section">
    <h4 class="heading-md">
      <i data-lucide="share-2"></i>
      <span>çµæœã‚’ã‚·ã‚§ã‚¢</span>
    </h4>

    <div class="share-buttons">
      <!-- ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚·ã‚§ã‚¢ï¼ˆãƒ¢ãƒã‚¤ãƒ«å„ªå…ˆï¼‰ -->
      <button class="btn-primary btn-share" onclick="shareResult('native')">
        <i data-lucide="share-2"></i>
        <span>ã‚·ã‚§ã‚¢</span>
      </button>

      <!-- Twitter -->
      <button class="btn-twitter btn-share" onclick="shareResult('twitter')">
        <i data-lucide="twitter"></i>
        <span>Twitter</span>
      </button>

      <!-- LINE -->
      <button class="btn-line btn-share" onclick="shareResult('line')">
        <svg><!-- LINE icon --></svg>
        <span>LINE</span>
      </button>

      <!-- Instagram -->
      <button class="btn-instagram btn-share" onclick="shareResult('instagram')">
        <i data-lucide="instagram"></i>
        <span>Instagram</span>
      </button>
    </div>

    <!-- ç„¡æ–™ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®æ³¨æ„ -->
    <p class="text-sm text-white-60">
      â„¹ï¸ ã“ã®çµæœã¯ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã€‚å±¥æ­´ã‚’è¨˜éŒ²ã™ã‚‹ã«ã¯ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ã¸ã€‚
    </p>
  </div>
</div>
```

#### JavaScriptå®Ÿè£…ä¾‹
```typescript
// trainingController.js å†…
async function shareResult(platform) {
  // ç¾åœ¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³çµæœã‚’å–å¾—
  const sessionResult = {
    grade: currentSession.grade,
    totalScore: currentSession.totalScore,
    excellentCount: currentSession.excellentCount,
    goodCount: currentSession.goodCount,
    passCount: currentSession.passCount
  };

  // ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ã‚·ã‚§ã‚¢å®Ÿè¡Œ
  switch (platform) {
    case 'native':
      await SocialShareManager.shareNative(sessionResult);
      break;
    case 'twitter':
      SocialShareManager.shareToTwitter(sessionResult);
      break;
    case 'line':
      SocialShareManager.shareToLine(sessionResult);
      break;
    case 'instagram':
      await SocialShareManager.shareToInstagram(sessionResult);
      break;
    default:
      console.error('âŒ ä¸æ˜ãªã‚·ã‚§ã‚¢ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ :', platform);
  }

  // ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹è¨˜éŒ²ï¼ˆå°†æ¥å®Ÿè£…ï¼‰
  console.log(`ğŸ“Š ã‚·ã‚§ã‚¢å®Ÿè¡Œ: ${platform}`);
}
```

### CSSå®Ÿè£…ä¾‹

#### ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«
```css
/* ã‚·ã‚§ã‚¢ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
.share-section {
  margin-top: 2rem;
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
}

/* ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã‚°ãƒªãƒƒãƒ‰ */
.share-buttons {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

/* åŸºæœ¬ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« */
.btn-share {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  border: none;
  border-radius: 8px;
  font-weight: 500;
  cursor: pointer;
  transition: transform 0.2s;
}

.btn-share:hover {
  transform: translateY(-2px);
}

/* ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ã‚«ãƒ©ãƒ¼ */
.btn-twitter {
  background: #1DA1F2;
  color: white;
}

.btn-line {
  background: #00B900;
  color: white;
}

.btn-instagram {
  background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
  color: white;
}

/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
@media (max-width: 640px) {
  .share-buttons {
    grid-template-columns: 1fr;
  }
}
```

### ãƒ†ã‚¹ãƒˆè¨ˆç”»

#### å˜ä½“ãƒ†ã‚¹ãƒˆ
```typescript
// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹1: ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ
const result = {
  grade: 'S',
  totalScore: 95,
  excellentCount: 6,
  goodCount: 2,
  passCount: 0
};
const text = SocialShareManager.generateShareText(result);
assert(text.includes('ã‚°ãƒ¬ãƒ¼ãƒ‰: S'));
assert(text.includes('95ç‚¹'));

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹2: ç”»åƒç”Ÿæˆ
const imageDataUrl = await SocialShareManager.generateResultImage(result);
assert(imageDataUrl.startsWith('data:image/png;base64,'));

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹3: Web Share APIæ¤œå‡º
if (navigator.share) {
  console.log('âœ… Web Share APIå¯¾å¿œ');
} else {
  console.log('âš ï¸ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¿…è¦');
}
```

#### çµ±åˆãƒ†ã‚¹ãƒˆ
```
1. ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°å®Œäº†
2. çµæœç”»é¢è¡¨ç¤º
3. Twitterã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
4. æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§TwitteræŠ•ç¨¿ç”»é¢è¡¨ç¤ºç¢ºèª
5. ãƒ†ã‚­ã‚¹ãƒˆãƒ»URLãƒ»ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æ­£å¸¸è¡¨ç¤ºç¢ºèª
```

### å®Ÿè£…å„ªå…ˆåº¦

#### Phase 1: åŸºæœ¬å®Ÿè£…ï¼ˆ1-2æ—¥ï¼‰
- âœ… `SocialShareManager` ã‚¯ãƒ©ã‚¹ä½œæˆ
- âœ… `generateShareText()` å®Ÿè£…
- âœ… `shareToTwitter()` å®Ÿè£…
- âœ… `shareToLine()` å®Ÿè£…
- âœ… çµæœç”»é¢ã¸ã®ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³è¿½åŠ 

#### Phase 2: é«˜åº¦æ©Ÿèƒ½ï¼ˆ2-3æ—¥ï¼‰
- â³ `generateResultImage()` Canvaså®Ÿè£…
- â³ `shareToInstagram()` ç”»åƒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Ÿè£…
- â³ `shareNative()` Web Share APIçµ±åˆ
- â³ ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–UIèª¿æ•´

#### Phase 3: æœ€é©åŒ–ï¼ˆ1æ—¥ï¼‰
- â³ OGPãƒ¡ã‚¿ã‚¿ã‚°è¨­å®š
- â³ ã‚·ã‚§ã‚¢ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½
- â³ ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹çµ±åˆ

---

## å®¹é‡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

### è­¦å‘Šãƒ¬ãƒ™ãƒ«å®šç¾©

| å®¹é‡ä½¿ç”¨ç‡ | ãƒ¬ãƒ™ãƒ« | è¡¨ç¤º | è‡ªå‹•å‰Šé™¤ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|-----------|--------|------|---------|-------------------|
| 0-59% | `normal` | ãªã— | ãªã— | ãªã— |
| 60-79% | `warning` | âš ï¸ è­¦å‘ŠãƒãƒŠãƒ¼ | ãªã— | ãƒ‡ãƒ¼ã‚¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¨å¥¨ |
| 80-100% | `critical` | ğŸš¨ é‡è¦è­¦å‘Š | ã‚ã‚Š | å¤ã„ãƒ‡ãƒ¼ã‚¿è‡ªå‹•å‰Šé™¤ |

### è‡ªå‹•å‰Šé™¤ãƒ­ã‚¸ãƒƒã‚¯

#### ç„¡æ–™ãƒ—ãƒ©ãƒ³
```
ãƒˆãƒªã‚¬ãƒ¼: æ¯å›ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜æ™‚
å‰Šé™¤å¯¾è±¡: 7æ—¥ã‚ˆã‚Šå¤ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³
ä¿æŒä»¶æ•°: æœŸé–“å†…ã™ã¹ã¦ï¼ˆé€šå¸¸21ä»¶ç¨‹åº¦ï¼‰
```

#### ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³
```
ãƒˆãƒªã‚¬ãƒ¼: å®¹é‡80%è¶…éæ™‚
å‰Šé™¤å¯¾è±¡: å¤ã„é †ã«å‰Šé™¤
ä¿æŒä»¶æ•°: æœ€æ–°100ä»¶ï¼ˆç´„3.5ãƒ¶æœˆåˆ†ï¼‰
```

### UIè¡¨ç¤ºä¾‹

#### è¨­å®šç”»é¢ã§ã®è¡¨ç¤º
```typescript
// ãƒ‡ãƒ¼ã‚¿ä¿å­˜çŠ¶æ³ã‚«ãƒ¼ãƒ‰
const retentionInfo = DataManager.getDataRetentionInfo();

// ç„¡æ–™ãƒ—ãƒ©ãƒ³è¡¨ç¤ºä¾‹
<div class="glass-card">
  <h4>ãƒ‡ãƒ¼ã‚¿ä¿å­˜çŠ¶æ³</h4>
  <div class="retention-info">
    <p>ä¿å­˜æœŸé–“: ç›´è¿‘7æ—¥åˆ†</p>
    <p>ä¿å­˜ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°: 21ä»¶</p>
    <p>æœ€å¤ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³: 2025å¹´10æœˆ20æ—¥</p>
    <p>ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡: 0.03MB / 5MB (0.6%)</p>
  </div>
  <button class="btn-premium">
    ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¦ç„¡åˆ¶é™ä¿å­˜
  </button>
</div>

// ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³è¡¨ç¤ºä¾‹
<div class="glass-card">
  <h4>ãƒ‡ãƒ¼ã‚¿ä¿å­˜çŠ¶æ³</h4>
  <div class="retention-info">
    <p>ä¿å­˜æœŸé–“: ç„¡åˆ¶é™</p>
    <p>ä¿å­˜ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°: 1,250ä»¶</p>
    <p>æœ€å¤ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³: 2024å¹´4æœˆ15æ—¥ (195æ—¥å‰)</p>
    <p>ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡: 1.75MB / 5MB (35%)</p>
  </div>
  <p class="text-success">âœ… ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä¼šå“¡ - ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ä¸­</p>
</div>
```

#### å®¹é‡è­¦å‘ŠãƒãƒŠãƒ¼
```typescript
const warning = DataManager.checkStorageWarning();

// warningè¡¨ç¤ºä¾‹
<div class="alert alert-warning">
  <i data-lucide="alert-triangle"></i>
  <span>âš ï¸ ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ãŒ60%ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’æ¨å¥¨ã—ã¾ã™ã€‚</span>
</div>

// criticalè¡¨ç¤ºä¾‹
<div class="alert alert-critical">
  <i data-lucide="alert-triangle"></i>
  <span>ğŸš¨ ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ãŒ80%ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚å¤ã„ãƒ‡ãƒ¼ã‚¿ãŒè‡ªå‹•å‰Šé™¤ã•ã‚Œã¾ã™ã€‚</span>
</div>
```

---

## Phase 2æ‹¡å¼µè¨ˆç”»

### ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›æ©Ÿèƒ½ï¼ˆãƒ—ãƒ¬ãƒŸã‚¢ãƒ é™å®šï¼‰

#### CSVå‡ºåŠ›
```typescript
/**
 * ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’CSVå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
 *
 * @param {string} mode - ãƒ¢ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆnull = å…¨ã¦ï¼‰
 * @returns {string} CSVæ–‡å­—åˆ—
 */
static exportSessionDataAsCSV(mode = null) {
  const sessions = this.getSessionHistory(mode, 9999);

  // CSVãƒ˜ãƒƒãƒ€ãƒ¼
  let csv = 'ã‚»ãƒƒã‚·ãƒ§ãƒ³ID,æ—¥æ™‚,ãƒ¢ãƒ¼ãƒ‰,åŸºéŸ³,å¹³å‡èª¤å·®,Excellent,Good,Pass,Practice\n';

  sessions.forEach(session => {
    const summary = session.sessionSummary || {};
    const avgError = session.pitchErrors.reduce((sum, err) =>
      sum + Math.abs(err.errorInCents), 0) / session.pitchErrors.length;

    csv += `${session.sessionId},`;
    csv += `${new Date(session.startTime).toLocaleString('ja-JP')},`;
    csv += `${session.mode},`;
    csv += `${session.baseNote},`;
    csv += `${avgError.toFixed(1)},`;
    csv += `${summary.excellentCount || 0},`;
    csv += `${summary.goodCount || 0},`;
    csv += `${summary.passCount || 0},`;
    csv += `${summary.practiceCount || 0}\n`;
  });

  return csv;
}

/**
 * CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Ÿè¡Œ
 */
static downloadSessionDataAsCSV(mode = null) {
  const csv = this.exportSessionDataAsCSV(mode);
  const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
  const url = URL.createObjectURL(blob);
  const link = document.createElement('a');

  link.href = url;
  link.download = `pitch-training-data-${new Date().toISOString().split('T')[0]}.csv`;
  link.click();

  URL.revokeObjectURL(url);
  console.log('âœ… CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†');
}
```

#### JSONå‡ºåŠ›
```typescript
/**
 * ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’JSONå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
 *
 * @param {string} mode - ãƒ¢ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆnull = å…¨ã¦ï¼‰
 * @returns {string} JSONæ–‡å­—åˆ—
 */
static exportSessionDataAsJSON(mode = null) {
  const sessions = this.getSessionHistory(mode, 9999);
  return JSON.stringify(sessions, null, 2);
}

/**
 * JSONãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Ÿè¡Œ
 */
static downloadSessionDataAsJSON(mode = null) {
  const json = this.exportSessionDataAsJSON(mode);
  const blob = new Blob([json], { type: 'application/json;charset=utf-8;' });
  const url = URL.createObjectURL(blob);
  const link = document.createElement('a');

  link.href = url;
  link.download = `pitch-training-data-${new Date().toISOString().split('T')[0]}.json`;
  link.click();

  URL.revokeObjectURL(url);
  console.log('âœ… JSONãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†');
}
```

#### UIå®Ÿè£…ä¾‹
```html
<!-- è¨­å®šç”»é¢ - ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<div class="glass-card premium-only">
  <h4 class="heading-md">
    <i data-lucide="download"></i>
    <span>ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›ï¼ˆãƒ—ãƒ¬ãƒŸã‚¢ãƒ é™å®šï¼‰</span>
  </h4>

  <div class="export-options">
    <button class="btn-secondary" onclick="DataManager.downloadSessionDataAsCSV()">
      <i data-lucide="file-text"></i>
      CSVå½¢å¼ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
    </button>

    <button class="btn-secondary" onclick="DataManager.downloadSessionDataAsJSON()">
      <i data-lucide="code"></i>
      JSONå½¢å¼ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
    </button>
  </div>

  <p class="text-sm text-white-60">
    ã™ã¹ã¦ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã§ãã¾ã™ã€‚
    Excelãªã©ã§è©³ç´°åˆ†æã‚‚å¯èƒ½ã§ã™ã€‚
  </p>
</div>
```

---

## å®Ÿè£…ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

### Phase 1: ã‚·ãƒ³ãƒ—ãƒ«å®Ÿè£…ï¼ˆ1-2æ—¥ï¼‰
- âœ… `cleanupSessionData()` å®Ÿè£…
- âœ… `saveSessionResultWithCleanup()` å®Ÿè£…
- âœ… `getDataRetentionInfo()` å®Ÿè£…
- âœ… `checkStorageWarning()` å®Ÿè£…
- âœ… è¨­å®šç”»é¢ã§ã®ãƒ‡ãƒ¼ã‚¿ä¿å­˜çŠ¶æ³è¡¨ç¤º
- âœ… å®¹é‡è­¦å‘ŠãƒãƒŠãƒ¼å®Ÿè£…

### Phase 2: ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›æ©Ÿèƒ½ï¼ˆ3-4æ—¥ï¼‰
- â³ CSVå‡ºåŠ›æ©Ÿèƒ½å®Ÿè£…
- â³ JSONå‡ºåŠ›æ©Ÿèƒ½å®Ÿè£…
- â³ å‡ºåŠ›UIå®Ÿè£…
- â³ ãƒ—ãƒ¬ãƒŸã‚¢ãƒ é™å®šã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

### Phase 3: è©³ç´°åˆ†ææ©Ÿèƒ½ï¼ˆå°†æ¥ï¼‰
- â³ PDFå‡ºåŠ›æ©Ÿèƒ½
- â³ ã‚°ãƒ©ãƒ•ä»˜ããƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- â³ é•·æœŸé€²æ—ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ

---

## ãƒ†ã‚¹ãƒˆè¨ˆç”»

### å˜ä½“ãƒ†ã‚¹ãƒˆé …ç›®

#### 1. cleanupSessionData()
```typescript
// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹1: ç„¡æ–™ãƒ—ãƒ©ãƒ³ - 7æ—¥ã‚ˆã‚Šå¤ã„ãƒ‡ãƒ¼ã‚¿å‰Šé™¤
const sessions = [
  { startTime: Date.now() - 10 * 24 * 60 * 60 * 1000 }, // 10æ—¥å‰ â†’ å‰Šé™¤
  { startTime: Date.now() - 5 * 24 * 60 * 60 * 1000 },  // 5æ—¥å‰ â†’ ä¿æŒ
];

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹2: ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ - å®¹é‡æ­£å¸¸æ™‚ã¯å…¨ã¦ä¿æŒ
const sessions = Array(1000).fill({ startTime: Date.now() }); // 1000ä»¶
// å®¹é‡ < 4MB â†’ å…¨ã¦ä¿æŒ

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹3: ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ - å®¹é‡è¶…éæ™‚ã¯100ä»¶ä¿æŒ
const sessions = Array(3000).fill({ startTime: Date.now() }); // 3000ä»¶
// å®¹é‡ > 4MB â†’ æœ€æ–°100ä»¶ã®ã¿ä¿æŒ
```

#### 2. getDataRetentionInfo()
```typescript
// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹1: ã‚»ãƒƒã‚·ãƒ§ãƒ³0ä»¶
const info = DataManager.getDataRetentionInfo();
assert(info.totalSessions === 0);

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹2: ç„¡æ–™ãƒ—ãƒ©ãƒ³ - 7æ—¥åˆ†è¡¨ç¤º
const info = DataManager.getDataRetentionInfo();
assert(info.retentionPeriod === '7days');
assert(info.daysSinceOldest <= 7);

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹3: ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ - ç„¡åˆ¶é™è¡¨ç¤º
const info = DataManager.getDataRetentionInfo();
assert(info.retentionPeriod === 'unlimited');
assert(info.isPremium === true);
```

#### 3. checkStorageWarning()
```typescript
// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹1: å®¹é‡æ­£å¸¸ï¼ˆ0-59%ï¼‰
const warning = DataManager.checkStorageWarning();
assert(warning.level === 'normal');

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹2: å®¹é‡è­¦å‘Šï¼ˆ60-79%ï¼‰
// æ‰‹å‹•ã§3MBãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
const warning = DataManager.checkStorageWarning();
assert(warning.level === 'warning');

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹3: å®¹é‡é‡å¤§ï¼ˆ80-100%ï¼‰
// æ‰‹å‹•ã§4.5MBãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
const warning = DataManager.checkStorageWarning();
assert(warning.level === 'critical');
assert(warning.shouldCleanup === true);
```

### çµ±åˆãƒ†ã‚¹ãƒˆé …ç›®

#### 1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜ãƒ•ãƒ­ãƒ¼
```
1. ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹
2. 8ã‚¹ãƒ†ãƒƒãƒ—è¨˜éŒ²
3. ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Œäº† â†’ saveSessionResultWithCleanup()
4. è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Ÿè¡Œç¢ºèª
5. ãƒ‡ãƒ¼ã‚¿ä¿å­˜çŠ¶æ³ç¢ºèª
```

#### 2. ãƒ—ãƒ©ãƒ³åˆ‡ã‚Šæ›¿ãˆãƒ•ãƒ­ãƒ¼
```
1. ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§7æ—¥åˆ†ä¿å­˜
2. ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
3. 7æ—¥ã‚ˆã‚Šå¤ã„ãƒ‡ãƒ¼ã‚¿ãŒä¿æŒã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
4. ãƒ—ãƒ¬ãƒŸã‚¢ãƒ è§£é™¤
5. 7æ—¥ã‚ˆã‚Šå¤ã„ãƒ‡ãƒ¼ã‚¿ãŒå‰Šé™¤ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
```

#### 3. å®¹é‡è¶…éãƒ•ãƒ­ãƒ¼
```
1. ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ã§å¤§é‡ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜
2. 4MBè¶…éç¢ºèª
3. è‡ªå‹•å‰Šé™¤å®Ÿè¡Œç¢ºèª
4. æœ€æ–°100ä»¶ã®ã¿ä¿æŒç¢ºèª
```

---

## æ—¢çŸ¥ã®åˆ¶é™äº‹é …

### 1. localStorageå®¹é‡åˆ¶é™
- **åˆ¶é™**: 5MBï¼ˆãƒ–ãƒ©ã‚¦ã‚¶æ¨™æº–ï¼‰
- **å½±éŸ¿**: ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ç´„2å¹´åˆ†ã®ãƒ‡ãƒ¼ã‚¿ãŒä¸Šé™
- **å¯¾å‡¦**: è‡ªå‹•å‰Šé™¤ + CSV/JSONãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¨å¥¨

### 2. ãƒ‡ãƒã‚¤ã‚¹ä¾å­˜æ€§
- **åˆ¶é™**: localStorageã¯ãƒ‡ãƒã‚¤ã‚¹å†…ã®ã¿
- **å½±éŸ¿**: ãƒãƒ«ãƒãƒ‡ãƒã‚¤ã‚¹åŒæœŸãªã—
- **å¯¾å‡¦**: Phase 2ã§ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›æ©Ÿèƒ½å®Ÿè£… â†’ æ‰‹å‹•ç§»è¡Œå¯èƒ½

### 3. ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
- **åˆ¶é™**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ã¨ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±
- **å½±éŸ¿**: äºˆå‘Šãªããƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã‚‹å¯èƒ½æ€§
- **å¯¾å‡¦**: å®šæœŸçš„ãªãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¨å¥¨ï¼ˆCSV/JSONå‡ºåŠ›ï¼‰

### 4. ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ©ã‚¦ã‚¸ãƒ³ã‚°
- **åˆ¶é™**: ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã§ã¯localStorageéæ°¸ç¶š
- **å½±éŸ¿**: ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã«ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±
- **å¯¾å‡¦**: è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º + é€šå¸¸ãƒ¢ãƒ¼ãƒ‰æ¨å¥¨

---

## å¤‰æ›´å±¥æ­´

### v1.2.0ï¼ˆ2025å¹´10æœˆ27æ—¥ï¼‰
- âœ… **ãƒã‚¤ãƒ©ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥è¿½åŠ **: SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½ã‚’æœ€å„ªå…ˆå®Ÿè£…
- âœ… **ç„¡æ–™ãƒ—ãƒ©ãƒ³ä»•æ§˜å¤‰æ›´**: ãƒ‡ãƒ¼ã‚¿ä¿å­˜ãªã—ã€ç·åˆè©•ä¾¡ã¯å®Œå…¨è¡¨ç¤º
- âœ… **SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½è¨­è¨ˆ**: `SocialShareManager` ã‚¯ãƒ©ã‚¹è¨­è¨ˆå®Œäº†
- âœ… **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥å®Ÿè£…**: Twitter/LINE/Instagramå¯¾å¿œ
- âœ… **OGPç”»åƒç”Ÿæˆ**: Canvasæç”»ã«ã‚ˆã‚‹çµæœç”»åƒç”Ÿæˆï¼ˆ1200Ã—630pxï¼‰
- âœ… **Web Share APIçµ±åˆ**: ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚·ã‚§ã‚¢æ©Ÿèƒ½å¯¾å¿œï¼ˆãƒ¢ãƒã‚¤ãƒ«æœ€é©åŒ–ï¼‰
- âœ… **UIå®Ÿè£…ä¾‹è¿½åŠ **: çµæœç”»é¢ã¸ã®ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³çµ±åˆè¨­è¨ˆ
- âœ… **å®Ÿè£…å„ªå…ˆåº¦å¤‰æ›´**: Phase 1 SNSã‚·ã‚§ã‚¢ â†’ Phase 2 ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›

### v1.1.0ï¼ˆ2025å¹´10æœˆ27æ—¥ï¼‰
- âœ… **ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ–¹å¼å®Ÿè£…**: ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ã›ãšã€è¡¨ç¤ºã®ã¿åˆ¶é™
- âœ… `getSessionHistory()`: ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§7æ—¥ä»¥å†…ã®ã¿è¡¨ç¤º
- âœ… `cleanupSessionData()`: å‰Šé™¤å‡¦ç†ã‚’å‰Šé™¤ã€è¡¨ç¤ºåˆ¶é™ã®ã¿
- âœ… `getDataRetentionInfo()`: `visibleSessions`ã¨`hiddenSessions`ã‚’è¿½åŠ 
- âœ… ãƒ—ãƒ¬ãƒŸã‚¢ãƒ å†åŠ å…¥æ™‚ã®å…¨ãƒ‡ãƒ¼ã‚¿å¾©å…ƒæ©Ÿèƒ½

### v1.0.0ï¼ˆ2025å¹´10æœˆ27æ—¥ï¼‰
- âœ… åˆç‰ˆä½œæˆ
- âœ… ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¸è¦ã®è¨­è¨ˆæ–¹é‡æ±ºå®š
- âœ… ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºåˆ†æå®Œäº†
- âœ… Phase 1å®Ÿè£…è¨­è¨ˆå®Œäº†
- âœ… Phase 2æ‹¡å¼µè¨ˆç”»ç­–å®š

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«
- **ãƒ‡ãƒ¼ã‚¿ç®¡ç†**: `/PitchPro-SPA/js/data-manager.js` (v2.1.0)
- **SNSã‚·ã‚§ã‚¢**: `/PitchPro-SPA/js/social-share-manager.js` (æ–°è¦å®Ÿè£…äºˆå®š)
- **ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°åˆ¶å¾¡**: `/PitchPro-SPA/js/controllers/trainingController.js`
- **ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸**: `/PitchPro-SPA/test-premium-data-retention.html`

### è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **åç›ŠåŒ–æˆ¦ç•¥**: `/RELEASE_AND_MONETIZATION_PLAN.md`
- **ã‚¢ãƒ—ãƒªä»•æ§˜æ›¸**: `/APP_SPECIFICATION.md`
- **æŠ€è¡“ä»•æ§˜æ›¸**: `/TECHNICAL_SPECIFICATIONS.md`
- **é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³**: `/CLAUDE.md`

### å‚è€ƒè³‡æ–™
- **Twitter Web Intent API**: https://developer.twitter.com/en/docs/twitter-for-websites/tweet-button/guides/web-intent
- **LINE Social Plugins**: https://developers.line.biz/ja/docs/line-social-plugins/
- **Web Share API**: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/share
- **Canvas API**: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API
- **OGPä»•æ§˜**: https://ogp.me/

---

**ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ‡ãƒ¼ã‚¿ä¿å­˜æœŸé–“ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã¨ãƒã‚¤ãƒ©ãƒ«ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥ã®ä»•æ§˜ãƒ»å®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆè¨ˆç”»ã‚’åŒ…æ‹¬çš„ã«è¨˜éŒ²ã—ã¾ã™ã€‚**
