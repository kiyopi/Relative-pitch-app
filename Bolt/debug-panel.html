<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ¢ãƒ¼ãƒ‰åˆ¥å‡ºåŠ›ç¢ºèªãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«</title>
    <style>
        body {
            font-family: monospace;
            background: #1a1a1a;
            color: #fff;
            padding: 20px;
            margin: 0;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .mode-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }
        .mode-btn {
            padding: 10px 20px;
            background: #4a5568;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .mode-btn.active {
            background: #3b82f6;
        }
        .output-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .phase-box {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 15px;
        }
        .phase-title {
            color: #fbbf24;
            font-size: 18px;
            margin-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            padding-bottom: 5px;
        }
        .phase-content {
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.6;
        }
        .debug-info {
            background: rgba(0,255,0,0.1);
            border: 1px solid rgba(0,255,0,0.3);
            padding: 10px;
            margin-top: 20px;
            border-radius: 5px;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
        }
        .comparison-table th,
        .comparison-table td {
            border: 1px solid rgba(255,255,255,0.2);
            padding: 10px;
            text-align: left;
        }
        .comparison-table th {
            background: rgba(255,255,255,0.1);
            color: #fbbf24;
        }
        .highlight-12 {
            background: rgba(59,130,246,0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” ãƒ¢ãƒ¼ãƒ‰åˆ¥Phaseå†…å®¹ç¢ºèªãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«</h1>
        
        <div class="mode-selector">
            <button class="mode-btn" onclick="loadMode(8)">8ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆåˆç´šï¼‰</button>
            <button class="mode-btn active" onclick="loadMode(12)">12ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆä¸­ç´šï¼‰</button>
            <button class="mode-btn" onclick="loadMode(24)">24ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆä¸Šç´šï¼‰</button>
        </div>

        <div class="debug-info">
            <strong>ç¾åœ¨ã®ãƒ¢ãƒ¼ãƒ‰:</strong> <span id="current-mode">12ã‚»ãƒƒã‚·ãƒ§ãƒ³</span><br>
            <strong>ãƒ•ã‚©ãƒ¼ã‚«ã‚¹:</strong> <span id="current-focus">ğŸ“ 12éŸ³ã™ã¹ã¦ã¸ã®å¯¾å¿œåŠ›å‘ä¸Šåº¦</span><br>
            <strong>12éŸ³å¾‹åˆ†æè¡¨ç¤º:</strong> <span id="tone-analysis-visible">è¡¨ç¤º</span>
        </div>

        <h2>Phase 1-5 å‡ºåŠ›å†…å®¹</h2>
        <div class="output-grid" id="phase-outputs">
            <!-- JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
        </div>

        <h2>æ¯”è¼ƒãƒ†ãƒ¼ãƒ–ãƒ«</h2>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Phase</th>
                    <th>8ã‚»ãƒƒã‚·ãƒ§ãƒ³</th>
                    <th class="highlight-12">12ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆ12éŸ³ç‰¹åŒ–ï¼‰</th>
                    <th>24ã‚»ãƒƒã‚·ãƒ§ãƒ³</th>
                </tr>
            </thead>
            <tbody id="comparison-tbody">
                <!-- JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
            </tbody>
        </table>

        <h2>å®Ÿéš›ã®é–¢æ•°å‘¼ã³å‡ºã—çµæœ</h2>
        <div class="phase-box">
            <div class="phase-title">generateDetailedAnalysis()</div>
            <div class="phase-content" id="detailed-analysis-output"></div>
        </div>
        <div class="phase-box">
            <div class="phase-title">generatePracticeGuidance()</div>
            <div class="phase-content" id="practice-guidance-output"></div>
        </div>
    </div>

    <script>
        // ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
        const mockSessionsData = [
            { baseNote: 'C4', session: 1 },
            { baseNote: 'F#4', session: 2 },
            { baseNote: 'D4', session: 3 },
            { baseNote: 'G#4', session: 4 },
            { baseNote: 'E4', session: 5 },
            { baseNote: 'A#4', session: 6 },
            { baseNote: 'F4', session: 7 },
            { baseNote: 'B4', session: 8 },
            { baseNote: 'C#4', session: 9 },
            { baseNote: 'D#4', session: 10 },
            { baseNote: 'A4', session: 11 },
            { baseNote: 'G4', session: 12 }
        ];

        // Phaseå†…å®¹ã®å®šç¾©ï¼ˆç¾åœ¨ã®å®Ÿè£…ï¼‰
        const phaseContent = {
            8: {
                phase1: "ãƒ”ãƒ³ãƒã‚¤ãƒ³ãƒˆåˆ†æï¼ˆåŸºæœ¬éŸ³ç¨‹ï¼‰",
                phase2: "ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹",
                phase3: "éŸ³éšåˆ¥å¼±ç‚¹ï¼ˆãƒ‰ãƒ¬ãƒŸãƒ•ã‚¡ã‚½ãƒ©ã‚·ãƒ‰ï¼‰",
                phase4: "æ™‚ç³»åˆ—å­¦ç¿’æ›²ç·š",
                phase5: "åŸºæœ¬éŸ³ç¨‹ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ",
                focus: "åŸºæœ¬çš„ãªéŸ³ç¨‹æ„Ÿè¦šã®å®šç€åº¦"
            },
            12: {
                phase1: "ãƒ”ãƒ³ãƒã‚¤ãƒ³ãƒˆåˆ†æï¼ˆ12éŸ³ï¼‰âŒ æœªç‰¹åŒ–",
                phase2: "ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ âŒ æœªç‰¹åŒ–",
                phase3: "12éŸ³åˆ¥å¼±ç‚¹ãƒ©ãƒ³ã‚­ãƒ³ã‚° âœ…",
                phase4: "æ™‚ç³»åˆ—ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ âŒ æœªç‰¹åŒ–",
                phase5: "ç›¸å¯¾éŸ³æ„Ÿãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ âš ï¸ éƒ¨åˆ†å¯¾å¿œ",
                focus: "ğŸ“ 12éŸ³ã™ã¹ã¦ã¸ã®å¯¾å¿œåŠ›å‘ä¸Šåº¦"
            },
            24: {
                phase1: "ãƒ”ãƒ³ãƒã‚¤ãƒ³ãƒˆåˆ†æï¼ˆãƒ—ãƒ­ãƒ¬ãƒ™ãƒ«ï¼‰",
                phase2: "ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆè©³ç´°ï¼‰",
                phase3: "å…¨éŸ³åŸŸå¼±ç‚¹ãƒãƒƒãƒ—",
                phase4: "é•·æœŸç¿’ç†Ÿæ›²ç·šåˆ†æ",
                phase5: "å®Œç’§ãª12éŸ³å¾‹ã‚·ã‚¹ãƒ†ãƒ åˆ†æ",
                focus: "ãƒ—ãƒ­ãƒ¬ãƒ™ãƒ«ã®å®Œç’§ãª12éŸ³å¾‹ã‚·ã‚¹ãƒ†ãƒ ç¿’å¾—åº¦"
            }
        };

        // ç†æƒ³çš„ãª12éŸ³ç‰¹åŒ–å†…å®¹
        const ideal12ToneContent = {
            phase1: "åŠéŸ³éšé–“éš”ã®å›°é›£åº¦åˆ†æ",
            phase2: "12éŸ³ã‚·ã‚¹ãƒ†ãƒ ç†è§£åº¦è©•ä¾¡",
            phase3: "12éŸ³åˆ¥å¼±ç‚¹ãƒ©ãƒ³ã‚­ãƒ³ã‚°",
            phase4: "ã‚¯ãƒ­ãƒãƒãƒƒã‚¯ç¿’ç†Ÿæ›²ç·š",
            phase5: "12éŸ³ç›¸å¯¾éŸ³æ„Ÿãƒ‘ã‚¿ãƒ¼ãƒ³"
        };

        function loadMode(sessionCount) {
            // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹æ›´æ–°
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // ãƒ‡ãƒãƒƒã‚°æƒ…å ±æ›´æ–°
            document.getElementById('current-mode').textContent = `${sessionCount}ã‚»ãƒƒã‚·ãƒ§ãƒ³`;
            document.getElementById('current-focus').textContent = phaseContent[sessionCount].focus;
            document.getElementById('tone-analysis-visible').textContent = sessionCount >= 12 ? 'è¡¨ç¤º' : 'éè¡¨ç¤º';

            // Phaseå‡ºåŠ›æ›´æ–°
            const outputGrid = document.getElementById('phase-outputs');
            outputGrid.innerHTML = '';
            
            for (let i = 1; i <= 5; i++) {
                const phaseBox = document.createElement('div');
                phaseBox.className = 'phase-box';
                if (sessionCount === 12) {
                    phaseBox.style.border = '2px solid #3b82f6';
                }
                phaseBox.innerHTML = `
                    <div class="phase-title">Phase ${i}</div>
                    <div class="phase-content">${phaseContent[sessionCount][`phase${i}`]}</div>
                    ${sessionCount === 12 && ideal12ToneContent[`phase${i}`] ? 
                        `<div style="color: #22c55e; margin-top: 10px;">
                            ç†æƒ³: ${ideal12ToneContent[`phase${i}`]}
                        </div>` : ''}
                `;
                outputGrid.appendChild(phaseBox);
            }

            // å®Ÿéš›ã®é–¢æ•°å‡ºåŠ›ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
            simulateFunctionOutputs(sessionCount);
        }

        function simulateFunctionOutputs(sessionCount) {
            // generateDetailedAnalysisç›¸å½“
            let detailedAnalysis = '';
            if (sessionCount === 8) {
                detailedAnalysis = "ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ãƒ¢ãƒ¼ãƒ‰ã§ã¯è‡ªç„¶ãªéŸ³éšï¼ˆãƒ‰ãƒ¬ãƒŸãƒ•ã‚¡ã‚½ãƒ©ã‚·ï¼‰ã®å®šç€åº¦ãŒé‡è¦ã§ã™ã€‚";
            } else if (sessionCount === 12) {
                detailedAnalysis = "é€£ç¶šãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ¢ãƒ¼ãƒ‰ã§ã¯åŠéŸ³ã‚’å«ã‚€12éŸ³ã¸ã®é©å¿œåŠ›ãŒè©¦ã•ã‚Œã¦ã„ã¾ã™ã€‚";
            } else {
                detailedAnalysis = "12éŸ³éšãƒ¢ãƒ¼ãƒ‰ã§ã¯å®Œç’§ãª12éŸ³å¾‹ã‚·ã‚¹ãƒ†ãƒ ã®ç¿’å¾—ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚";
            }
            document.getElementById('detailed-analysis-output').textContent = detailedAnalysis;

            // generatePracticeGuidanceç›¸å½“
            let practiceGuidance = '';
            if (sessionCount === 8) {
                practiceGuidance = "æ¨å¥¨ç·´ç¿’: ãƒ‰ãƒ¬ãƒŸãƒ•ã‚¡ã‚½ãƒ©ã‚·ãƒ‰ã®åŸºæœ¬éŸ³éšã‚’æ¥½å™¨ã¨åˆã‚ã›ã¦æ­Œã†ç·´ç¿’ã‚’é‡ç‚¹çš„ã«ã€‚";
            } else if (sessionCount === 12) {
                practiceGuidance = "æ¨å¥¨ç·´ç¿’: åŠéŸ³éšï¼ˆã‚¯ãƒ­ãƒãƒãƒƒã‚¯ï¼‰ç·´ç¿’ã§#â™­éŸ³ç¨‹ã¸ã®é©å¿œåŠ›ã‚’å‘ä¸Šã•ã›ã¾ã—ã‚‡ã†ã€‚";
            } else {
                practiceGuidance = "æ¨å¥¨ç·´ç¿’: 12éŸ³å¾‹ã‚·ã‚¹ãƒ†ãƒ ã®å®Œå…¨ç¿’å¾—ã¨é•·æœŸè¨˜æ†¶ã®å®šç€ã‚’ç›®æŒ‡ã—ãŸé›†ä¸­ç·´ç¿’ã€‚";
            }
            document.getElementById('practice-guidance-output').textContent = practiceGuidance;
        }

        // åˆæœŸè¡¨ç¤º
        loadMode(12);

        // æ¯”è¼ƒãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆ
        const tbody = document.getElementById('comparison-tbody');
        for (let i = 1; i <= 5; i++) {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><strong>Phase ${i}</strong></td>
                <td>${phaseContent[8][`phase${i}`]}</td>
                <td class="highlight-12">${phaseContent[12][`phase${i}`]}</td>
                <td>${phaseContent[24][`phase${i}`]}</td>
            `;
            tbody.appendChild(row);
        }
    </script>
</body>
</html>