<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pitch Training - Bootstrap 5 版</title>
  
  <!-- Bootstrap 5 CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
  
  <style>
    /* Bootstrap拡張（最小限） */
    :root {
      --bs-primary: #6366f1;
      --bs-success: #10b981;
      --bs-warning: #f59e0b;
      --bs-danger: #ef4444;
    }

    /* 音階カラー */
    .text-note-do { color: #ef4444 !important; }
    .text-note-re { color: #f97316 !important; }
    .text-note-mi { color: #eab308 !important; }
    .text-note-fa { color: #22c55e !important; }
    .text-note-so { color: #06b6d4 !important; }
    .text-note-la { color: #3b82f6 !important; }
    .text-note-si { color: #8b5cf6 !important; }
    .text-note-do-high { color: #ec4899 !important; }

    .bg-note-do { background-color: #ef4444 !important; }
    .bg-note-re { background-color: #f97316 !important; }
    .bg-note-mi { background-color: #eab308 !important; }
    .bg-note-fa { background-color: #22c55e !important; }
    .bg-note-so { background-color: #06b6d4 !important; }
    .bg-note-la { background-color: #3b82f6 !important; }
    .bg-note-si { background-color: #8b5cf6 !important; }

    /* 音楽的UI要素 */
    .pitch-display {
      font-size: 3rem;
      font-weight: bold;
      text-align: center;
      padding: 2rem;
      border-radius: 1rem;
      background: linear-gradient(135deg, #f8f9ff 0%, #e0e7ff 100%);
      border: 2px solid var(--bs-primary);
      min-height: 200px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .pitch-value {
      color: var(--bs-success);
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .pitch-note {
      font-size: 1.5rem;
      color: var(--bs-secondary);
      margin-top: 0.5rem;
    }

    .volume-bar {
      height: 1rem;
      background: #e9ecef;
      border-radius: 0.5rem;
      overflow: hidden;
    }

    .volume-fill {
      height: 100%;
      background: linear-gradient(to right, var(--bs-success), var(--bs-warning), var(--bs-danger));
      border-radius: 0.5rem;
      transition: width 0.1s ease;
    }

    .session-dots {
      display: flex;
      gap: 0.5rem;
      justify-content: center;
      margin: 1rem 0;
    }

    .session-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #dee2e6;
    }

    .session-dot.completed {
      background: var(--bs-success);
    }

    .session-dot.current {
      background: var(--bs-primary);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
    }

    .training-card {
      border: none;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      border-radius: 1rem;
    }

    .score-badge {
      font-size: 2rem;
      font-weight: bold;
      width: 80px;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }
  </style>
</head>
<body class="bg-light">

  <!-- ヘッダー -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
    <div class="container">
      <span class="navbar-brand h1 mb-0">
        <i class="bi bi-music-note-beamed text-primary me-2"></i>
        相対音感トレーニング
      </span>
      <div class="navbar-nav ms-auto">
        <button class="btn btn-outline-primary">
          <i class="bi bi-gear"></i> 設定
        </button>
      </div>
    </div>
  </nav>

  <div class="container mt-4">
    
    <!-- モード選択 -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="card training-card">
          <div class="card-header bg-primary text-white">
            <h5 class="card-title mb-0">
              <i class="bi bi-play-circle me-2"></i>
              トレーニングモード選択
            </h5>
          </div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-4">
                <div class="card h-100 border-2 border-primary">
                  <div class="card-body text-center">
                    <i class="bi bi-shuffle display-4 text-primary mb-3"></i>
                    <h5 class="card-title">ランダムモード</h5>
                    <p class="card-text">基音がランダムに変わる基本練習</p>
                    <button class="btn btn-primary w-100">開始</button>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card h-100">
                  <div class="card-body text-center">
                    <i class="bi bi-arrow-repeat display-4 text-success mb-3"></i>
                    <h5 class="card-title">連続チャレンジ</h5>
                    <p class="card-text">8セッション連続の集中練習</p>
                    <button class="btn btn-success w-100">開始</button>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card h-100">
                  <div class="card-body text-center">
                    <i class="bi bi-diagram-3 display-4 text-warning mb-3"></i>
                    <h5 class="card-title">12音階モード</h5>
                    <p class="card-text">全12音階の高度な練習</p>
                    <button class="btn btn-warning w-100">開始</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- メイン練習画面 -->
    <div class="row">
      <!-- 音程検出エリア -->
      <div class="col-md-8">
        <div class="card training-card mb-4">
          <div class="card-header bg-light">
            <h5 class="card-title mb-0">
              <i class="bi bi-soundwave me-2"></i>
              リアルタイム音程検出
            </h5>
          </div>
          <div class="card-body">
            <div class="pitch-display mb-4">
              <div class="pitch-value">440.0 Hz</div>
              <div class="pitch-note text-note-la">ラ (A4)</div>
            </div>
            
            <!-- 音量バー -->
            <div class="mb-3">
              <label class="form-label">音量レベル</label>
              <div class="volume-bar">
                <div class="volume-fill" style="width: 75%"></div>
              </div>
            </div>

            <!-- セッション進捗 -->
            <div class="text-center">
              <label class="form-label">セッション進捗 (3/8)</label>
              <div class="session-dots">
                <div class="session-dot completed"></div>
                <div class="session-dot completed"></div>
                <div class="session-dot current"></div>
                <div class="session-dot"></div>
                <div class="session-dot"></div>
                <div class="session-dot"></div>
                <div class="session-dot"></div>
                <div class="session-dot"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- 基音再生 -->
        <div class="card training-card">
          <div class="card-header bg-light">
            <h5 class="card-title mb-0">
              <i class="bi bi-music-note me-2"></i>
              基音再生
            </h5>
          </div>
          <div class="card-body">
            <div class="row g-2">
              <div class="col">
                <button class="btn btn-lg btn-primary w-100">
                  <i class="bi bi-play-fill me-2"></i>
                  基音を再生
                </button>
              </div>
              <div class="col-auto">
                <button class="btn btn-lg btn-outline-secondary">
                  <i class="bi bi-arrow-clockwise"></i>
                </button>
              </div>
            </div>
            <div class="mt-3 text-center">
              <small class="text-muted">現在の基音: C4 (ド)</small>
            </div>
          </div>
        </div>
      </div>

      <!-- サイドバー -->
      <div class="col-md-4">
        <!-- 現在のスコア -->
        <div class="card training-card mb-4">
          <div class="card-header bg-light">
            <h5 class="card-title mb-0">現在のスコア</h5>
          </div>
          <div class="card-body text-center">
            <div class="score-badge bg-success text-white mb-3">
              85
            </div>
            <div class="row text-center">
              <div class="col">
                <div class="h6">精度</div>
                <div class="text-success h5">92.5%</div>
              </div>
              <div class="col">
                <div class="h6">判定</div>
                <div class="text-success h5">Good</div>
              </div>
            </div>
          </div>
        </div>

        <!-- 音階ガイド -->
        <div class="card training-card mb-4">
          <div class="card-header bg-light">
            <h5 class="card-title mb-0">音階ガイド</h5>
          </div>
          <div class="card-body">
            <div class="row g-2">
              <div class="col-6">
                <div class="btn btn-sm w-100 text-note-do" style="background-color: rgba(239, 68, 68, 0.1);">ド</div>
              </div>
              <div class="col-6">
                <div class="btn btn-sm w-100 text-note-re" style="background-color: rgba(249, 115, 22, 0.1);">レ</div>
              </div>
              <div class="col-6">
                <div class="btn btn-sm w-100 text-note-mi" style="background-color: rgba(234, 179, 8, 0.1);">ミ</div>
              </div>
              <div class="col-6">
                <div class="btn btn-sm w-100 text-note-fa" style="background-color: rgba(34, 197, 94, 0.1);">ファ</div>
              </div>
              <div class="col-6">
                <div class="btn btn-sm w-100 text-note-so" style="background-color: rgba(6, 182, 212, 0.1);">ソ</div>
              </div>
              <div class="col-6">
                <div class="btn btn-sm w-100 text-note-la" style="background-color: rgba(59, 130, 246, 0.1);">ラ</div>
              </div>
              <div class="col-6">
                <div class="btn btn-sm w-100 text-note-si" style="background-color: rgba(139, 92, 246, 0.1);">シ</div>
              </div>
              <div class="col-6">
                <div class="btn btn-sm w-100 text-note-do-high" style="background-color: rgba(236, 72, 153, 0.1);">ド↑</div>
              </div>
            </div>
          </div>
        </div>

        <!-- コントロール -->
        <div class="card training-card">
          <div class="card-header bg-light">
            <h5 class="card-title mb-0">コントロール</h5>
          </div>
          <div class="card-body d-grid gap-2">
            <button class="btn btn-success btn-lg">
              <i class="bi bi-mic-fill me-2"></i>
              開始
            </button>
            <button class="btn btn-danger">
              <i class="bi bi-stop-fill me-2"></i>
              停止
            </button>
            <button class="btn btn-outline-primary">
              <i class="bi bi-share me-2"></i>
              結果を共有
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- 結果表示エリア -->
    <div class="row mt-4">
      <div class="col-12">
        <div class="card training-card">
          <div class="card-header bg-light">
            <h5 class="card-title mb-0">
              <i class="bi bi-trophy me-2"></i>
              セッション結果
            </h5>
          </div>
          <div class="card-body">
            <div class="row text-center">
              <div class="col-md-3">
                <div class="h2 text-primary">85</div>
                <div class="text-muted">総合スコア</div>
              </div>
              <div class="col-md-3">
                <div class="h2 text-success">92.5%</div>
                <div class="text-muted">平均精度</div>
              </div>
              <div class="col-md-3">
                <div class="h2 text-info">3:45</div>
                <div class="text-muted">時間</div>
              </div>
              <div class="col-md-3">
                <div class="h2 text-warning">B+</div>
                <div class="text-muted">総合判定</div>
              </div>
            </div>
            
            <div class="mt-4">
              <div class="progress" style="height: 20px;">
                <div class="progress-bar bg-success" style="width: 60%">優秀</div>
                <div class="progress-bar bg-warning" style="width: 30%">良好</div>
                <div class="progress-bar bg-danger" style="width: 10%">要改善</div>
              </div>
              <div class="d-flex justify-content-between mt-2">
                <small class="text-success">優秀: 5回</small>
                <small class="text-warning">良好: 2回</small>
                <small class="text-danger">要改善: 1回</small>
              </div>
            </div>

            <div class="d-flex gap-2 mt-3">
              <button class="btn btn-primary flex-fill">
                <i class="bi bi-arrow-clockwise me-2"></i>
                もう一度
              </button>
              <button class="btn btn-success flex-fill">
                <i class="bi bi-arrow-right me-2"></i>
                次のレベル
              </button>
              <button class="btn btn-outline-primary">
                <i class="bi bi-share me-2"></i>
                共有
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    // デモ用のインタラクティブ機能
    document.addEventListener('DOMContentLoaded', function() {
      // 音量バーのアニメーション
      setInterval(() => {
        const fill = document.querySelector('.volume-fill');
        const randomWidth = Math.random() * 100;
        fill.style.width = randomWidth + '%';
      }, 500);

      // ピッチ値の変更
      setInterval(() => {
        const pitchValue = document.querySelector('.pitch-value');
        const randomPitch = (440 + (Math.random() - 0.5) * 100).toFixed(1);
        pitchValue.textContent = randomPitch + ' Hz';
      }, 1000);
    });
  </script>

</body>
</html>